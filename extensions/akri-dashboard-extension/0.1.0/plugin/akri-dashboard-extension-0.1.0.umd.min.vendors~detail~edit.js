(("undefined"!==typeof self?self:this)["webpackJsonpakri_dashboard_extension_0_1_0"]=("undefined"!==typeof self?self:this)["webpackJsonpakri_dashboard_extension_0_1_0"]||[]).push([[0],{"0cb2":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{class:{"side-tabs":!!t.sideTabs,"tabs-only":t.tabsOnly}},[e("ul",{ref:"tablist",staticClass:"tabs",class:{clearfix:!t.sideTabs,vertical:t.sideTabs,horizontal:!t.sideTabs},attrs:{role:"tablist",tabindex:"0"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:(e.preventDefault(),t.selectNext(1))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.preventDefault(),t.selectNext(-1))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.selectNext(1))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.selectNext(-1))}]}},[t._l(t.sortedTabs,(function(a){return e("li",{key:a.name,class:{tab:!0,active:a.active,disabled:a.disabled,error:a.error},attrs:{id:a.name,"data-testid":a.name,role:"presentation"}},[e("a",{attrs:{"data-testid":"btn-"+a.name,"aria-controls":"#"+a.name,"aria-selected":a.active,role:"tab"},on:{click:function(e){return e.preventDefault(),t.select(a.name,e)}}},[e("span",[t._v(t._s(a.labelDisplay))]),a.badge?e("span",{staticClass:"tab-badge"},[t._v(t._s(a.badge))]):t._e(),t.hasIcon(a)?e("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:t.t("validation.tab"),expression:"t('validation.tab')"}],staticClass:"conditions-alert-icon icon-error"}):t._e()])])})),t.sideTabs&&!t.sortedTabs.length?e("li",{staticClass:"tab disabled"},[e("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[t._v("(None)")])]):t._e(),t.sideTabs&&t.showTabsAddRemove?e("ul",{staticClass:"tab-list-footer"},[e("li",[e("button",{staticClass:"btn bg-transparent",attrs:{type:"button"},on:{click:t.tabAddClicked}},[e("i",{staticClass:"icon icon-plus"})]),e("button",{staticClass:"btn bg-transparent",attrs:{type:"button",disabled:!t.sortedTabs.length},on:{click:t.tabRemoveClicked}},[e("i",{staticClass:"icon icon-minus"})])])]):t._e(),t._t("tab-row-extras")],2),e("div",{class:{"tab-container":!!t.tabs.length||!!t.sideTabs,"no-content":t.noContent,"tab-container--flat":!!t.flat}},[t._t("default")],2)])},i=[],o=a("a1d8"),n=a.n(o),r=a("330a"),l=a.n(r),d=a("bddd"),c=a("1d19"),u=a("1659"),b=a.n(u),h={name:"Tabbed",props:{defaultTab:{type:String,default:null},sideTabs:{type:Boolean,default:!1},showTabsAddRemove:{type:Boolean,default:!1},scrollOnChange:{type:Boolean,default:!1},useHash:{type:Boolean,default:!0},noContent:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},tabsOnly:{type:Boolean,default:!1}},provide(){const t=this.tabs;return{sideTabs:this.sideTabs,addTab(e){const a=Object(d["e"])(t,"name",e.name);a&&Object(d["i"])(t,a),Object(d["a"])(t,e)},removeTab(e){Object(d["i"])(t,e)}}},data(){return{tabs:[],activeTabName:null}},computed:{sortedTabs(){return Object(c["a"])(this.tabs,["weight:desc","labelDisplay","name"])}},watch:{sortedTabs(t){const{defaultTab:e,useHash:a}=this,s=t.find(t=>t.active),i=a?this.$route.hash:void 0,o=a?i.slice(1):void 0,r=t.find(t=>t.name===o&&!t.active),d=n()(t)||null;l()(s)?a&&!l()(r)?this.select(r.name):l()(e)||l()(t.find(t=>t.name===e))?null!==d&&void 0!==d&&d.name&&this.select(d.name):this.select(e):a&&(null===s||void 0===s?void 0:s.name)===o&&this.select(s.name)}},mounted(){this.useHash&&window.addEventListener("hashchange",this.hashChange)},unmounted(){this.useHash&&window.removeEventListener("hashchange",this.hashChange)},methods:{hasIcon(t){return t.displayAlertIcon||t.error&&!t.active},hashChange(){if(!this.scrollOnChange){const t=document.getElementsByTagName("main")[0];t&&(t.scrollTop=0)}this.select(this.$route.hash)},find(t){return this.sortedTabs.find(e=>e.name===t)},select(t){const{sortedTabs:e}=this,a=this.find(t),s="#"+t;if(a&&!a.disabled){if(this.useHash){const{$route:{hash:t},$router:{currentRoute:e}}=this;if(this.useHash&&t!==s){const t={...e};t.hash=s,this.$router.replace(t)}}for(const t of e)t.active=t.name===a.name;this.$emit("changed",{tab:a,selectedName:a.name}),this.activeTabName=a.name}},selectNext(t){const{sortedTabs:e}=this,a=e.findIndex(t=>t.active),s=o(a,t,e.length),i=e[s].name;function o(t,e,a){const s=t+e;return s>=a?0:s<=0?a-1:s}this.select(i),this.$nextTick(()=>{this.$refs.tablist.focus()})},tabAddClicked(){const t=b()(this.tabs,t=>t.active);this.$emit("addTab",t)},tabRemoveClicked(){const t=b()(this.tabs,t=>t.active);this.$emit("removeTab",t)}}},f=h,v=(a("5074"),a("d802")),p=Object(v["a"])(f,s,i,!1,null,"f1718c5e",null);e["a"]=p.exports},1659:function(t,e,a){var s=a("0ee5"),i=a("4b7a"),o=a("9b66"),n=Math.max;function r(t,e,a){var r=null==t?0:t.length;if(!r)return-1;var l=null==a?0:o(a);return l<0&&(l=n(r+l,0)),s(t,i(e,3),l)}t.exports=r},"305c":function(t,e,a){"use strict";var s=a("da25"),i=a("8bbf"),o=a.n(i),n=a("5000"),r=a("3e9d"),l=a("842c"),d=a("bddd"),c=a("907c"),u=a("0788"),b={name:"CreateEditView",mixins:[l["c"]],data(){return{errors:[]}},computed:{isCreate(){return this.mode===s["l"]},isEdit(){return this.mode===s["n"]},isView(){return this.mode===s["r"]},schema(){const t=this.storeOverride||this.$store.getters["currentStore"](this.value.type);return this.$store.getters[t+"/schemaFor"](this.value.type)},isNamespaced(){var t;return(null===(t=this.schema)||void 0===t||null===(t=t.attributes)||void 0===t?void 0:t.namespaced)||!1},labels:{get(){var t;return null===(t=this.value)||void 0===t?void 0:t.labels},set(t){this.value.setLabels(t)}},annotations:{get(){var t;return null===(t=this.value)||void 0===t?void 0:t.annotations},set(t){this.value.setAnnotations(t)}},doneRoute(){var t,e,a;if(null!==(t=this.value)&&void 0!==t&&t.doneRoute)return this.value.doneRoute;let s=this.$route.name;return null!==(e=s)&&void 0!==e&&e.endsWith("-id")?s=s.replace(/(-namespace)?-id$/,""):null!==(a=s)&&void 0!==a&&a.endsWith("-create")&&(s=s.replace(/-create$/,"")),s},doneParams(){var t;if(null!==(t=this.value)&&void 0!==t&&t.doneParams)return this.value.doneParams;const e={...this.$route.params};return delete e.namespace,delete e.id,e}},methods:{done(){if(!this.doneEvent)return this.doneLocationOverride?this.$router.replace(this.doneLocationOverride):void(this.doneRoute&&this.$router.replace({name:this.doneRoute,params:this.doneParams||{resource:this.value.type}}));this.$emit("done")},async conflict(){return await Object(u["a"])(this.initialValue.toJSON(),this.value,this.liveValue,this.$store.getters,this.$store,this.storeOverride||this.$store.getters["currentStore"](this.value.type))},async save(t,e,a=0){this.errors&&Object(d["c"])(this.errors);try{var s,i;if(await this.applyHooks(l["b"],this.value),null!==(s=this.value)&&void 0!==s&&null!==(s=s.metadata)&&void 0!==s&&s.labels&&0===Object.keys(this.value.metadata.labels||{}).length&&delete this.value.metadata.labels,null!==(i=this.value)&&void 0!==i&&null!==(i=i.metadata)&&void 0!==i&&i.annotations&&0===Object.keys(this.value.metadata.annotations||{}).length&&delete this.value.metadata.annotations,this.isCreate){var o;const t=null===(o=this.value)||void 0===o||null===(o=o.metadata)||void 0===o?void 0:o.namespace;t&&t!==c["d"]&&this.value.$dispatch("prefs/set",{key:n["g"],value:t},{root:!0})}await this.actuallySave(e),this.$store.getters["type-map/isSpoofed"](this.value.type)&&await this.$store.dispatch("cluster/findAll",{type:this.value.type,opt:{force:!0}},{root:!0}),await this.applyHooks(l["a"],this.value),t&&t(!0),this.done()}catch(u){if(409===u.status&&0===a&&this.isEdit){const s=await this.conflict();if(!1===s)return this.save(t,e,a+1);this.errors=s}else this.errors=Object(r["c"])(u);console.error("CreateEditView mixin failed to save: ",u),t&&t(!1)}},async actuallySave(t){if(this.isCreate){t=t||this.schema.linkFor("collection");const e=await this.value.save({url:t});e&&Object.assign(this.value,e)}else await this.value.save()},setErrors(t){this.errors=t}}};e["a"]=o.a.extend({...b,props:{mode:{type:String,default:s["n"]},realMode:{type:String,default:s["n"]},as:{type:String,default:s["s"]},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1}}})},"38de":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("section",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],attrs:{id:t.name,"aria-hidden":!t.active,role:"tabpanel"}},[t.shouldShowHeader?e("div",{staticClass:"tab-header"},[e("h2",[t._v(" "+t._s(t.labelDisplay)+" "),t.tooltip?e("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:t.tooltip,expression:"tooltip"}],staticClass:"icon icon-info icon-lg"}):t._e()]),t._t("tab-header-right")],2):t._e(),t._t("default",null,null,{active:t.active})],2)},i=[],o={inject:["addTab","removeTab","sideTabs"],props:{label:{default:null,type:String},labelKey:{default:null,type:String},name:{required:!0,type:String},tooltip:{default:null,type:[String,Object]},weight:{default:0,required:!1,type:Number},showHeader:{type:Boolean,default:null},displayAlertIcon:{type:Boolean,default:null},error:{type:Boolean,default:!1},badge:{default:0,required:!1,type:Number}},data(){return{active:null}},computed:{labelDisplay(){return this.labelKey?this.$store.getters["i18n/t"](this.labelKey):this.label?this.label:this.name},shouldShowHeader(){return null!==this.showHeader?this.showHeader:this.sideTabs||!1}},watch:{active(t){t&&this.$emit("active")}},mounted(){this.addTab(this)},beforeDestroy(){this.removeTab(this)}},n=o,r=(a("94fd"),a("d802")),l=Object(r["a"])(n,s,i,!1,null,"667bdd63",null);e["a"]=l.exports},5074:function(t,e,a){"use strict";a("9c34")},"5a1e":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".tabs[data-v-f1718c5e]{list-style-type:none;margin:0;padding:0}.tabs.horizontal[data-v-f1718c5e]{border:solid thin var(--border);border-bottom:0;display:flex;flex-direction:row}.tabs.horizontal+.tab-container[data-v-f1718c5e]{border:solid thin var(--border)}.tabs.horizontal .tab.active[data-v-f1718c5e]{border-bottom:solid 2px var(--primary)}.tabs[data-v-f1718c5e]:focus{outline:none}.tabs:focus .tab.active a span[data-v-f1718c5e]{text-decoration:underline}.tabs .tab[data-v-f1718c5e]{position:relative;float:left;padding:0 8px 0 0;cursor:pointer}.tabs .tab A[data-v-f1718c5e]{display:flex;align-items:center;padding:10px 15px}.tabs .tab A[data-v-f1718c5e]:hover{text-decoration:none}.tabs .tab A:hover span[data-v-f1718c5e]{text-decoration:underline}.tabs .tab .conditions-alert-icon[data-v-f1718c5e]{color:var(--error);padding-left:4px}.tabs .tab[data-v-f1718c5e]:last-child{padding-right:0}.tabs .tab.active>A[data-v-f1718c5e]{color:var(--primary);text-decoration:none}.tabs .tab.error A>i[data-v-f1718c5e]{color:var(--error)}.tabs .tab .tab-badge[data-v-f1718c5e]{margin-left:5px;background-color:var(--link);color:#fff;border-radius:6px;padding:1px 7px;font-size:11px}.tab-container[data-v-f1718c5e]{padding:20px}.tab-container.no-content[data-v-f1718c5e]{padding:0 0 3px 0}.tab-container--flat[data-v-f1718c5e]{padding:0}.tab-container--flat .side-tabs[data-v-f1718c5e]{box-shadow:unset}.tabs-only[data-v-f1718c5e]{margin-bottom:20px}.tabs-only .tab-container[data-v-f1718c5e]{display:none}.tabs-only .tabs[data-v-f1718c5e]{border:0;border-bottom:2px solid var(--border)}.side-tabs[data-v-f1718c5e]{display:flex;box-shadow:0 0 20px var(--shadow);border-radius:calc(var(--border-radius)*2);background-color:var(--tabbed-sidebar-bg)}.side-tabs .tab-container[data-v-f1718c5e]{padding:20px}.side-tabs .tabs[data-v-f1718c5e]{width:200px;min-width:200px;display:flex;flex:1 0;flex-direction:column}.side-tabs .tabs .tab[data-v-f1718c5e]{width:100%;border-left:5px solid transparent}.side-tabs .tabs .tab.toggle A[data-v-f1718c5e],.side-tabs .tabs .tab A[data-v-f1718c5e]{color:var(--primary)}.side-tabs .tabs .tab.active[data-v-f1718c5e]{background-color:var(--body-bg);border-left:solid 5px var(--primary)}.side-tabs .tabs .tab.active A[data-v-f1718c5e]{color:var(--input-label)}.side-tabs .tabs .tab.disabled[data-v-f1718c5e]{background-color:var(--disabled-bg)}.side-tabs .tabs .tab.disabled A[data-v-f1718c5e]{color:var(--disabled-text);text-decoration:none}.side-tabs .tabs .tab-list-footer[data-v-f1718c5e]{list-style:none;padding:0;margin-top:auto}.side-tabs .tabs .tab-list-footer li[data-v-f1718c5e]{display:flex;flex:1}.side-tabs .tabs .tab-list-footer li .btn[data-v-f1718c5e]{flex:1 1;display:flex;justify-content:center}.side-tabs .tabs .tab-list-footer li button[data-v-f1718c5e]:first-of-type{border-top:solid 1px var(--border);border-right:solid 1px var(--border);border-top-right-radius:0}.side-tabs .tabs .tab-list-footer li button[data-v-f1718c5e]:last-of-type{border-top:solid 1px var(--border);border-top-left-radius:0}.side-tabs .tab-container[data-v-f1718c5e]{width:calc(100% - 200px);flex-grow:1;background-color:var(--body-bg)}",""]),t.exports=e},"5a6c":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".tab-header[data-v-667bdd63]{display:flex;justify-content:space-between;margin-bottom:15px;align-items:center}.tab-header h2[data-v-667bdd63]{margin:0}",""]),t.exports=e},"7d6c":function(t,e,a){var s=a("9ef5"),i=1/0,o=17976931348623157e292;function n(t){if(!t)return 0===t?t:0;if(t=s(t),t===i||t===-i){var e=t<0?-1:1;return e*o}return t===t?t:0}t.exports=n},"842c":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return r}));var s=a("bddd"),i=a("1d19");let o=1;const n="_beforeSaveHooks",r="_afterSaveHooks";e["c"]={methods:{registerBeforeHook(t,e,a=99,s){this._registerHook(n,t,e,a,s)},unregisterBeforeSaveHook(t){this[n]=this[n].filter(e=>e.name!==t)},registerAfterHook(t,e,a=99,s){this._registerHook(r,t,e,a,s)},async applyHooks(t,...e){if(!t)throw new Error("Must specify key");const a=Object(i["a"])(this[t]||[],["priority","name"]),s={};for(const i of a)console.debug("Applying hook",i.name),s[i.name]=await i.fn.apply(i.fnContext||this,e);return s},_registerHook(t,e,a,i,n){if(!t)throw new Error("Must specify key");a||(a="hook_"+o,o++),i||(i=99);let r=this[t];r||(r=[],this[t]=r);let l=Object(s["e"])(r,"name",a);l?(l.priority=i,l.fn=e,l.fnContext=n):(l={name:a,priority:i,fn:e,fnContext:n},r.push(l))}}}},"94fd":function(t,e,a){"use strict";a("d076")},"9b66":function(t,e,a){var s=a("7d6c");function i(t){var e=s(t),a=e%1;return e===e?a?e-a:e:0}t.exports=i},"9c34":function(t,e,a){var s=a("5a1e");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("0ed3").default;i("e1b83e60",s,!0,{sourceMap:!1,shadowMode:!1})},a1d8:function(t,e){function a(t){return t&&t.length?t[0]:void 0}t.exports=a},d076:function(t,e,a){var s=a("5a6c");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("0ed3").default;i("70047b50",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=akri-dashboard-extension-0.1.0.umd.min.vendors~detail~edit.js.map