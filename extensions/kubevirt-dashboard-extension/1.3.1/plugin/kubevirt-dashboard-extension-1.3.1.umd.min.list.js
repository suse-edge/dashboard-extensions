(("undefined"!==typeof self?self:this)["webpackChunkkubevirt_dashboard_extension_1_3_1"]=("undefined"!==typeof self?self:this)["webpackChunkkubevirt_dashboard_extension_1_3_1"]||[]).push([[715],{83995:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var o=a(9274);const s={class:"state"};function r(e,t,a,r,n,l){const i=(0,o.resolveComponent)("BadgeStateFormatter"),c=(0,o.resolveComponent)("VDropdown");return(0,o.openBlock)(),(0,o.createElementBlock)("span",null,[(0,o.withDirectives)((0,o.createElementVNode)("div",s,[(0,o.createVNode)(i,{row:a.row},null,8,["row"]),l.warningMessage.length?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,trigger:"hover",offset:"16"},{popover:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.warningMessage,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:e},(0,o.toDisplayString)(t+1)+". "+(0,o.toDisplayString)(e),1)))),128))])),default:(0,o.withCtx)((()=>[t[0]||(t[0]=(0,o.createElementVNode)("span",{class:"tooltip-target"},[(0,o.createElementVNode)("i",{class:"icon icon-warning icon-lg text-warning"})],-1))])),_:1})):(0,o.createCommentVNode)("",!0)],512),[[o.vShow,!n.isMigrating]])])}var n=a(8513),l={components:{BadgeStateFormatter:n.A},props:{value:{type:String,default:""},row:{type:Object,required:!0},allNodeNetwork:{type:Array,default:()=>[]},allClusterNetwork:{type:Array,default:()=>[]}},data(){return{isMigrating:!1}},computed:{networkImpassability(){const e=this.row?.nodeName,t=this.allNodeNetwork.find((t=>t.attachNodeName===e));return(!!t?.message||!this.enableClusterNetwork)&&this.row?.attachNetwork&&"Running"===this?.row?.actualState},enableClusterNetwork(){const e=this.allClusterNetwork?.[0]||{};return e?.enable},warningMessage(){const e=[];if(this.networkImpassability&&this.allClusterNetwork.length&&e.push(this.t("kubevirt.network.message.vlanInactive",{name:this.row.realAttachNodeName})),this.row.warningMessage?.pod){const t=this.row.warningMessage.pod;t.metadata?.state?.error&&!/pod has unbound immediate PersistentVolumeClaims/.test(t.metadata?.state?.message)&&e.push(t.metadata?.state?.message)}return"VM error"===this.row?.actualState&&this.row.warningMessage?.message&&e.push(this.row.warningMessage?.message),this.row?.migrationMessage&&e.push(this.row?.migrationMessage.message),e}},methods:{migrationStateChanged(e){this.isMigrating="Failed"!==e&&!!e}}},i=(a(74039),a(47433));const c=(0,i.A)(l,[["render",r],["__scopeId","data-v-c9f308c6"]]);var d=c},25533:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var o=a(9274);const s={key:1},r={class:"state"},n={class:"name-console"},l={key:1};function i(e,t,a,i,c,d){const p=(0,o.resolveComponent)("Loading"),u=(0,o.resolveComponent)("VMState"),m=(0,o.resolveComponent)("LinkDetail"),h=(0,o.resolveComponent)("ConsoleBar"),w=(0,o.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0})):((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createVNode)(w,(0,o.mergeProps)(e.$attrs,{headers:d.headers,"default-sort-by":"age",rows:d.rows,schema:a.schema,groupable:!0,"key-field":"_key"}),{"cell:state":(0,o.withCtx)((e=>[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(u,{class:"vmstate",row:e.row},null,8,["row"])])])),"cell:name":(0,o.withCtx)((e=>[(0,o.createElementVNode)("div",n,["kubevirt.io.virtualmachineinstance"!==e.row.type?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,value:e.row.metadata.name,"onUpdate:value":t=>e.row.metadata.name=t,row:e.row},null,8,["value","onUpdate:value","row"])):((0,o.openBlock)(),(0,o.createElementBlock)("span",l,(0,o.toDisplayString)(e.row.metadata.name),1)),(0,o.createVNode)(h,{"resource-type":e.row,class:"console mr-10"},null,8,["resource-type"])])])),_:1},16,["headers","rows","schema"])]))}var c=a(36325),d=a(21052),p=a(83995),u=a(68774),m=a(88339),h=a(84409),w=a(35664);const f={class:"overview-web-console"};function v(e,t,a,s,r,n){const l=(0,o.resolveComponent)("ButtonDropdown");return(0,o.openBlock)(),(0,o.createElementBlock)("div",f,[(0,o.createVNode)(l,{disabled:n.isOff,"no-drop":n.isOff,"button-label":"Console","dropdown-options":n.options,size:"sm",onClickAction:n.handleDropdown},null,8,["disabled","no-drop","dropdown-options","onClickAction"])])}var g=a(8552),y=a(65359),k=a(30766),b={name:"VMConsoleBar",components:{ButtonDropdown:g.A},props:{resourceType:{type:Object,required:!0,default:()=>({})}},computed:{...(0,y.L8)({t:"i18n/t"}),isOff(){return this.resourceType.stateDisplay===k.K},options(){return[{label:this.t("kubevirt.virtualMachine.console.novnc"),value:"vnc"},{label:this.t("kubevirt.virtualMachine.console.serial"),value:"serial"}]}},methods:{handleDropdown(e){this.show(e.value)},show(e){const t=this.resourceType.id,a=window.location.host,o=window.location.pathname.replace(this.$route.path,""),s=this.$route?.params,r=`https://${a}${o}/${s.product}/c/${s.cluster}/console/${t}/${e}`;window.open(r,"_blank",`toolbars=0,width=${screen.width-200},height=${screen.height-200},left=0,top=0,noreferrer`)},isEmpty(e){return void 0!==e&&0===Object.keys(e).length}}},M=(a(62111),a(47433));const C=(0,M.A)(b,[["render",v]]);var N=C,x=a(86214),B={name:"VirtualMachineList",components:{Loading:h.A,VMState:p["default"],LinkDetail:d.A,ConsoleBar:N,ResourceTable:c.A},props:{schema:{type:Object,required:!0}},data(){return{allVMs:[],allVMIs:[]}},async fetch(){const e=[x.zl,x.Mm,w.NW,w.Sm],t=e.reduce(((e,t)=>(this.$store.getters["cluster/schemaFor"](t)&&(e[t]=this.$store.dispatch("cluster/findAll",{type:t})),e)),{}),a=await(0,m.kR)(t);this.allVMs=a[x.zl]||[],this.allVMIs=a[x.Mm]||[]},computed:{headers(){return[u.c4,u.o_,u.CU,{name:"RunStrategy",label:"Run Strategy",value:"spec.runStrategy",dashIfEmpty:!0},{name:"vCPU",label:"vCPU",sort:["vCPUs"],value:"vCPUs",align:"center",dashIfEmpty:!0},{name:"Memory",value:"displayMemory",sort:["memorySort"],align:"center",labelKey:"tableHeaders.memory",formatter:"Si",formatterOpts:{opts:{increment:1024,addSuffix:!0,maxExponent:3,minExponent:3,suffix:"i"},needParseSi:!0}},{name:"ip",label:"IP Address",value:"id",formatter:"IPAddress",labelKey:"tableHeaders.ipAddress",dashIfEmpty:!0},{name:"node",labelKey:"tableHeaders.node",value:"nodeName",formatter:"LinkName",formatterOpts:{type:w.NW},dashIfEmpty:!0},{...u.K,sort:"metadata.creationTimestamp:desc"}]},rows(){const e=this.allVMIs.filter((e=>!this.allVMs.find((t=>t.id===e.id))));return[...this.allVMs,...e]}}};a(58793);const V=(0,M.A)(B,[["render",i],["__scopeId","data-v-294f1a53"]]);var _=V},69823:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".overview-web-console .btn{line-height:24px;min-height:24px}",""]),t["default"]=l},22615:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".state[data-v-c9f308c6]{display:flex;justify-content:space-between}.state .icon-warning[data-v-c9f308c6]{margin-top:2px}",""]),t["default"]=l},66345:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".state[data-v-294f1a53]{display:flex}.state .vmstate[data-v-294f1a53]{margin-right:6px}.name-console[data-v-294f1a53]{align-items:center;display:flex;justify-content:space-around}.name-console span[data-v-294f1a53]{line-height:26px;width:160px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;-o-text-overflow:ellipsis}",""]),t["default"]=l},62111:function(e,t,a){var o=a(69823);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("60711541",o,!0,{sourceMap:!1,shadowMode:!1})},74039:function(e,t,a){var o=a(22615);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("40cef760",o,!0,{sourceMap:!1,shadowMode:!1})},58793:function(e,t,a){var o=a(66345);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("30a57748",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=kubevirt-dashboard-extension-1.3.1.umd.min.list.js.map