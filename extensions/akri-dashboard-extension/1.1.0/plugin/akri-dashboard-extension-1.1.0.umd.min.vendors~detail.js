(("undefined"!==typeof self?self:this)["webpackJsonpakri_dashboard_extension_1_1_0"]=("undefined"!==typeof self?self:this)["webpackJsonpakri_dashboard_extension_1_1_0"]||[]).push([[6],{"050d":function(e,t,o){!function(t,o){e.exports=o()}(0,(function(){"use strict";var e="millisecond",t="second",o="minute",a="hour",i="day",s="week",n="month",r="quarter",l="year",d=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,c=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=function(e,t,o){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(o)+e},p={s:u,z:function(e){var t=-e.utcOffset(),o=Math.abs(t),a=Math.floor(o/60),i=o%60;return(t<=0?"+":"-")+u(a,2,"0")+":"+u(i,2,"0")},m:function(e,t){var o=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(o,n),i=t-a<0,s=e.clone().add(o+(i?-1:1),n);return Number(-(o+(t-a)/(i?a-s:s-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(d){return{M:n,y:l,w:s,d:i,D:"date",h:a,m:o,s:t,ms:e,Q:r}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},b="en",g={};g[b]=h;var v=function(e){return e instanceof w},f=function(e,t,o){var a;if(!e)return b;if("string"==typeof e)g[e]&&(a=e),t&&(g[e]=t,a=e);else{var i=e.name;g[i]=e,a=i}return!o&&a&&(b=a),a||!o&&b},m=function(e,t){if(v(e))return e.clone();var o="object"==typeof t?t:{};return o.date=e,o.args=arguments,new w(o)},y=p;y.l=f,y.i=v,y.w=function(e,t){return m(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var w=function(){function u(e){this.$L=this.$L||f(e.locale,null,!0),this.parse(e)}var p=u.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,o=e.utc;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(d);if(a)return o?new Date(Date.UTC(a[1],a[2]-1,a[3]||1,a[4]||0,a[5]||0,a[6]||0,a[7]||0)):new Date(a[1],a[2]-1,a[3]||1,a[4]||0,a[5]||0,a[6]||0,a[7]||0)}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return y},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(e,t){var o=m(e);return this.startOf(t)<=o&&o<=this.endOf(t)},p.isAfter=function(e,t){return m(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<m(e)},p.$g=function(e,t,o){return y.u(e)?this[t]:this.set(o,e)},p.year=function(e){return this.$g(e,"$y",l)},p.month=function(e){return this.$g(e,"$M",n)},p.day=function(e){return this.$g(e,"$W",i)},p.date=function(e){return this.$g(e,"$D","date")},p.hour=function(e){return this.$g(e,"$H",a)},p.minute=function(e){return this.$g(e,"$m",o)},p.second=function(e){return this.$g(e,"$s",t)},p.millisecond=function(t){return this.$g(t,"$ms",e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,r){var d=this,c=!!y.u(r)||r,u=y.p(e),p=function(e,t){var o=y.w(d.$u?Date.UTC(d.$y,t,e):new Date(d.$y,t,e),d);return c?o:o.endOf(i)},h=function(e,t){return y.w(d.toDate()[e].apply(d.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),d)},b=this.$W,g=this.$M,v=this.$D,f="set"+(this.$u?"UTC":"");switch(u){case l:return c?p(1,0):p(31,11);case n:return c?p(1,g):p(0,g+1);case s:var m=this.$locale().weekStart||0,w=(b<m?b+7:b)-m;return p(c?v-w:v+(6-w),g);case i:case"date":return h(f+"Hours",0);case a:return h(f+"Minutes",1);case o:return h(f+"Seconds",2);case t:return h(f+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(s,r){var d,c=y.p(s),u="set"+(this.$u?"UTC":""),p=(d={},d[i]=u+"Date",d.date=u+"Date",d[n]=u+"Month",d[l]=u+"FullYear",d[a]=u+"Hours",d[o]=u+"Minutes",d[t]=u+"Seconds",d[e]=u+"Milliseconds",d)[c],h=c===i?this.$D+(r-this.$W):r;if(c===n||c===l){var b=this.clone().set("date",1);b.$d[p](h),b.init(),this.$d=b.set("date",Math.min(this.$D,b.daysInMonth())).toDate()}else p&&this.$d[p](h);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[y.p(e)]()},p.add=function(e,r){var d,c=this;e=Number(e);var u=y.p(r),p=function(t){var o=m(c);return y.w(o.date(o.date()+Math.round(t*e)),c)};if(u===n)return this.set(n,this.$M+e);if(u===l)return this.set(l,this.$y+e);if(u===i)return p(1);if(u===s)return p(7);var h=(d={},d[o]=6e4,d[a]=36e5,d[t]=1e3,d)[u]||1,b=this.$d.getTime()+e*h;return y.w(b,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var o=e||"YYYY-MM-DDTHH:mm:ssZ",a=y.z(this),i=this.$locale(),s=this.$H,n=this.$m,r=this.$M,l=i.weekdays,d=i.months,u=function(e,a,i,s){return e&&(e[a]||e(t,o))||i[a].substr(0,s)},p=function(e){return y.s(s%12||12,e,"0")},h=i.meridiem||function(e,t,o){var a=e<12?"AM":"PM";return o?a.toLowerCase():a},b={YY:String(this.$y).slice(-2),YYYY:this.$y,M:r+1,MM:y.s(r+1,2,"0"),MMM:u(i.monthsShort,r,d,3),MMMM:u(d,r),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:u(i.weekdaysMin,this.$W,l,2),ddd:u(i.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:y.s(s,2,"0"),h:p(1),hh:p(2),a:h(s,n,!0),A:h(s,n,!1),m:String(n),mm:y.s(n,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:a};return o.replace(c,(function(e,t){return t||b[e]||a.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(e,d,c){var u,p=y.p(d),h=m(e),b=6e4*(h.utcOffset()-this.utcOffset()),g=this-h,v=y.m(this,h);return v=(u={},u[l]=v/12,u[n]=v,u[r]=v/3,u[s]=(g-b)/6048e5,u[i]=(g-b)/864e5,u[a]=g/36e5,u[o]=g/6e4,u[t]=g/1e3,u)[p]||g,c?v:y.a(v)},p.daysInMonth=function(){return this.endOf(n).$D},p.$locale=function(){return g[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var o=this.clone(),a=f(e,t,!0);return a&&(o.$L=a),o},p.clone=function(){return y.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},u}();return m.prototype=w.prototype,m.extend=function(e,t){return e(t,w,m),m},m.locale=f,m.isDayjs=v,m.unix=function(e){return m(1e3*e)},m.en=g[b],m.Ls=g,m}))},"05ca":function(e,t,o){var a=o("44db"),i=o("b506"),s="Expected a function";function n(e,t,o){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError(s);return i(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),a(e,t,{leading:n,maxWait:t,trailing:r})}e.exports=n},"060c":function(e,t,o){"use strict";o.r(t);var a=o("9ce4"),i=o("2cb5"),s=o("907c"),n=(o("8bbf"),o("e24b"),o("4ac6"),o("640c"));n["a"];o("da25");const r={GLOBAL:{key:"GLOBAL",type:"management.cattle.io.globalrole",defaultKey:"newUserDefault",id:"GLOBAL",labelKey:"rbac.roletemplate.subtypes.GLOBAL.label"},CLUSTER:{key:"CLUSTER",type:"management.cattle.io.roletemplate",context:"cluster",defaultKey:"clusterCreatorDefault",id:"CLUSTER",labelKey:"rbac.roletemplate.subtypes.CLUSTER.label"},NAMESPACE:{key:"NAMESPACE",type:"management.cattle.io.roletemplate",context:"project",defaultKey:"projectCreatorDefault",id:"NAMESPACE",labelKey:"rbac.roletemplate.subtypes.NAMESPACE.label"},RBAC_ROLE:{key:"RBAC_ROLE",type:"rbac.authorization.k8s.io.role",id:"RBAC_ROLE",labelKey:"rbac.roletemplate.subtypes.RBAC_ROLE.label"},RBAC_CLUSTER_ROLE:{key:"RBAC_CLUSTER_ROLE",type:"rbac.authorization.k8s.io.clusterrole",id:"RBAC_CLUSTER_ROLE",labelKey:"rbac.roletemplate.subtypes.RBAC_CLUSTER_ROLE.label"}};new Set(["PUT","blocked-PUT"]);const l=r.CLUSTER.key;t["default"]={data(){return{warning:"",info:""}},computed:{...Object(a["c"])("action-menu",["toRemove"]),...Object(a["b"])({t:"i18n/t"}),names(){return this.toRemove.map(e=>e.nameDisplay).slice(0,5)},plusMore(){const e=this.toRemove.length-this.names.length;return this.t("promptRemove.andOthers",{count:e})}},watch:{value:{handler(e){this.handleRoleDeletionCheck(e,e[0].type,this.$route.hash)},immediate:!0}},methods:{resourceNames:i["l"],async handleRoleDeletionCheck(e,t,o){let a,i;this.warning="";let n=0;const r=new Set;switch(this.info=this.t("rbac.globalRoles.waiting",{count:e.length}),t){case s["j"].GLOBAL_ROLE:a=s["j"].GLOBAL_ROLE_BINDING,i="globalRoleName";break;default:a=o.includes(l)?s["j"].CLUSTER_ROLE_TEMPLATE_BINDING:s["j"].PROJECT_ROLE_TEMPLATE_BINDING,i="roleTemplateName";break}try{var d;const t=await this.$store.dispatch("management/request",{url:"/v1/"+a,method:"get"},{root:!0}),o=await this.$store.dispatch("management/request",{url:"/v1/"+s["j"].USER,method:"get"},{root:!0}),l=null===(d=o.data)||void 0===d?void 0:d.reduce((e,t)=>(t.username&&(e[t.id]=t),e),{});t.data&&t.data.length?(e.forEach(e=>{const o=t.data.filter(t=>t[i]===e.id);if(o.length){const e=[...new Set(o.map(e=>e.userName).filter(e=>l[e]))];e.length&&(n++,e.forEach(e=>r.add(e)))}}),n&&r.size?(this.info="",this.warning=this.t("rbac.globalRoles.usersBound",{count:r.size})):this.info=this.t("rbac.globalRoles.notBound",null,!0)):this.info=this.t("rbac.globalRoles.notBound",null,!0)}catch(c){this.info=this.t("rbac.globalRoles.unableToCheck")}}}}},"0c0f":function(e,t,o){var a=o("86eb");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("464d0db1",a,!0,{sourceMap:!1,shadowMode:!1})},"0fb1":function(e,t,o){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{ref:"container",attrs:{"data-testid":e.componentTestid+"-list-container"}},[t("div",{staticClass:"sortable-table-header",class:{titled:e.$slots.title&&e.$slots.title.length}},[e._t("title"),e.showHeaderRow?t("div",{staticClass:"fixed-header-actions",class:{button:!!e.$slots["header-button"],"advanced-filtering":e.hasAdvancedFiltering}},[t("div",{staticClass:"bulk",class:e.bulkActionsClass},[e._t("header-left",(function(){return[e.tableActions?[e._l(e.availableActions,(function(o){return t("button",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.actionTooltip,expression:"actionTooltip"}],key:o.action,staticClass:"btn role-primary",class:{[e.bulkActionClass]:!0},attrs:{id:o.action,type:"button",disabled:!o.enabled,"data-testid":e.componentTestid+"-"+o.action},on:{click:function(t){return e.applyTableAction(o,null,t)},mouseover:function(t){return e.setBulkActionOfInterest(o)},mouseleave:function(t){return e.setBulkActionOfInterest(null)}}},[o.icon?t("i",{class:o.icon}):e._e(),t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:o.label,expression:"act.label"}]})])})),t("ActionDropdown",{staticClass:"bulk-actions-dropdown",class:e.bulkActionsDropdownClass,attrs:{"disable-button":!e.selectedRows.length,size:"sm"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("button",{ref:"actionDropDown",staticClass:"btn bg-primary mr-0",attrs:{disabled:!e.selectedRows.length}},[t("i",{staticClass:"icon icon-gear"}),t("span",[e._v(e._s(e.t("sortableTable.bulkActions.collapsed.label")))]),t("i",{staticClass:"ml-10 icon icon-chevron-down"})])]},proxy:!0},{key:"popover-content",fn:function(){return[t("ul",{staticClass:"list-unstyled menu"},e._l(e.hiddenActions,(function(o){return t("li",{directives:[{name:"close-popover",rawName:"v-close-popover"},{name:"clean-tooltip",rawName:"v-clean-tooltip",value:{content:e.actionTooltip,placement:"right"},expression:"{\n                      content: actionTooltip,\n                      placement: 'right'\n                    }"}],key:o.action,class:{disabled:!o.enabled},on:{click:function(t){return e.applyTableAction(o,null,t)},mouseover:function(t){return e.setBulkActionOfInterest(o)},mouseleave:function(t){return e.setBulkActionOfInterest(null)}}},[o.icon?t("i",{class:o.icon}):e._e(),t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:o.label,expression:"act.label"}]})])})),0)]},proxy:!0}],null,!1,2209545330)}),e.selectedRowsText?t("label",{staticClass:"action-availability",class:e.bulkActionAvailabilityClass},[e._v(" "+e._s(e.selectedRowsText)+" ")]):e._e()]:e._e()]}))],2),!e.hasAdvancedFiltering&&e.$slots["header-middle"]&&e.$slots["header-middle"].length?t("div",{staticClass:"middle"},[e._t("header-middle")],2):e._e(),e.search||e.hasAdvancedFiltering||e.isTooManyItemsToAutoUpdate||e.$slots["header-right"]&&e.$slots["header-right"].length?t("div",{staticClass:"search row",attrs:{"data-testid":"search-box-filter-row"}},[e.hasAdvancedFiltering?t("ul",{staticClass:"advanced-filters-applied"},e._l(e.advancedFilteringValues,(function(o,a){return t("li",{key:a},[t("span",{staticClass:"label"},[e._v(e._s(`"${o.value}" ${e.t("sortableTable.in")} ${o.label}`))]),t("span",{staticClass:"cross",on:{click:function(t){return e.clearAdvancedFilter(a)}}},[e._v("✕")]),t("div",{staticClass:"bg"})])})),0):e._e(),e._t("header-right"),e.isTooManyItemsToAutoUpdate?t("AsyncButton",{staticClass:"manual-refresh",attrs:{mode:"manual-refresh","current-phase":e.refreshButtonPhase},on:{click:e.debouncedRefreshTableData}}):e._e(),e.hasAdvancedFiltering?t("div",{ref:"advanced-filter-group",staticClass:"advanced-filter-group"},[t("button",{staticClass:"btn role-primary",on:{click:function(t){e.advancedFilteringVisibility=!e.advancedFilteringVisibility}}},[e._v(" "+e._s(e.t("sortableTable.addFilter"))+" ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.advancedFilteringVisibility,expression:"advancedFilteringVisibility"}],staticClass:"advanced-filter-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.advFilterSearchTerm,expression:"advFilterSearchTerm"}],ref:"advancedSearchQuery",staticClass:"advanced-search-box",attrs:{type:"search",placeholder:e.t("sortableTable.filterFor")},domProps:{value:e.advFilterSearchTerm},on:{input:function(t){t.target.composing||(e.advFilterSearchTerm=t.target.value)}}}),t("div",{staticClass:"middle-block"},[t("span",[e._v(e._s(e.t("sortableTable.in")))]),t("LabeledSelect",{staticClass:"filter-select",attrs:{clearable:!0,options:e.advFilterSelectOptions,disabled:!1,searchable:!1,mode:"edit",multiple:!1,taggable:!1,placeholder:e.t("sortableTable.selectCol")},on:{selecting:t=>e.advFilterSelectedLabel=t.label},model:{value:e.advFilterSelectedProp,callback:function(t){e.advFilterSelectedProp=t},expression:"advFilterSelectedProp"}})],1),t("div",{staticClass:"bottom-block"},[t("button",{staticClass:"btn role-secondary",attrs:{disabled:!e.advancedFilteringValues.length},on:{click:e.clearAllAdvancedFilters}},[e._v(" "+e._s(e.t("sortableTable.resetFilters"))+" ")]),t("button",{staticClass:"btn role-primary",on:{click:e.addAdvancedFilter}},[e._v(" "+e._s(e.t("sortableTable.add"))+" ")])])])]):e.search?t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventualSearchQuery,expression:"eventualSearchQuery"}],ref:"searchQuery",staticClass:"input-sm search-box",attrs:{type:"search",placeholder:e.t("sortableTable.search")},domProps:{value:e.eventualSearchQuery},on:{input:function(t){t.target.composing||(e.eventualSearchQuery=t.target.value)}}}):e._e(),e._t("header-button")],2):e._e()]):e._e()],2),t("table",{staticClass:"sortable-table",class:e.classObject,attrs:{width:"100%"}},[e.showHeaders?t("THead",{attrs:{"label-for":e.labelFor,columns:e.columns,group:e.group,"group-options":e.advGroupOptions,"has-advanced-filtering":e.hasAdvancedFiltering,"adv-filter-hide-labels-as-cols":e.advFilterHideLabelsAsCols,"table-actions":e.tableActions,"table-cols-options":e.columnOptions,"row-actions":e.rowActions,"sub-expand-column":e.subExpandColumn,"row-actions-width":e.rowActionsWidth,"how-much-selected":e.howMuchSelected,"sort-by":e.sortBy,"default-sort-by":e._defaultSortBy,descending:e.descending,"no-rows":e.noRows,loading:e.isLoading&&!e.loadingDelay,"no-results":e.noResults},on:{"on-toggle-all":e.onToggleAll,"on-sort-change":e.changeSort,"col-visibility-change":e.changeColVisibility,"group-value-change":t=>e.$emit("group-value-change",t),"update-cols-options":e.updateColsOptions}}):e._e(),e.isLoading&&!e.loadingDelay?t("div"):e.isLoading&&!e.altLoading?t("tbody",[e._t("loading",(function(){return[t("tr",[t("td",{attrs:{colspan:e.fullColspan}},[t("div",{staticClass:"data-loading"},[t("i",{staticClass:"icon-spin icon icon-spinner"}),t("t",{attrs:{k:"generic.loading",raw:!0}})],1)])])]}))],2):e.noRows?t("tbody",[e._t("no-rows",(function(){return[t("tr",{staticClass:"no-rows"},[t("td",{attrs:{colspan:e.fullColspan}},[e.showNoRows?t("t",{attrs:{k:e.noRowsKey}}):e._e()],1)])]}))],2):e.noResults?t("tbody",[e._t("no-results",(function(){return[t("tr",{staticClass:"no-results"},[t("td",{staticClass:"text-center",attrs:{colspan:e.fullColspan}},[t("t",{attrs:{k:e.noDataKey}})],1)])]}))],2):e._l(e.displayRows,(function(o){return t("tbody",{key:o.key,class:{group:e.groupBy}},[e.groupBy?e._t("group-row",(function(){return[t("tr",{staticClass:"group-row"},[t("td",{attrs:{colspan:e.fullColspan}},[e._t("group-by",(function(){return[t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],staticClass:"group-tab"},[e._v(" "+e._s(o.ref)+" ")])]}),{group:o.grp})],2)])]}),{group:o,fullColspan:e.fullColspan}):e._e(),e._l(o.rows,(function(o,a){return[e._t("main-row",(function(){return[e._t("main-row:"+(o.row.mainRowKey||a),(function(){return[t("tr",{key:o.key,staticClass:"main-row",class:{"has-sub-row":o.showSubRow},attrs:{"data-testid":e.componentTestid+"-"+a+"-row","data-node-id":o.key,"data-cant-run-bulk-action-of-interest":e.actionOfInterest&&!o.canRunBulkActionOfInterest}},[e.tableActions?t("td",{staticClass:"row-check",attrs:{align:"middle"}},[e._v(" "+e._s(o.mainRowKey)),t("Checkbox",{staticClass:"selection-checkbox",attrs:{"data-node-id":o.key,"data-testid":e.componentTestid+"-"+a+"-checkbox",value:e.selectedRows.includes(o.row)}})],1):e._e(),e.subExpandColumn?t("td",{staticClass:"row-expand",attrs:{align:"middle"}},[t("i",{class:{icon:!0,"icon-chevron-right":!e.expanded[o.row[e.keyField]],"icon-chevron-down":!!e.expanded[o.row[e.keyField]]},attrs:{"data-title":"Toggle Expand"},on:{click:function(t){return t.stopPropagation(),e.toggleExpand(o.row)}}})]):e._e(),e._l(o.columns,(function(i,s){return[e._t("col:"+i.col.name,(function(){return[t("td",{directives:[{name:"show",rawName:"v-show",value:!e.hasAdvancedFiltering||e.hasAdvancedFiltering&&i.col.isColVisible,expression:"!hasAdvancedFiltering || (hasAdvancedFiltering && col.col.isColVisible)"}],key:i.col.name,class:{["col-"+i.dasherize]:!!i.col.formatter,[i.col.breakpoint]:!!i.col.breakpoint,["skip-select"]:i.col.skipSelect},attrs:{"data-title":i.col.label,"data-testid":`sortable-cell-${a}-${s}`,align:i.col.align||"left",width:i.col.width}},[e._t("cell:"+i.col.name,(function(){return[i.component&&i.needRef?t(i.component,e._b({ref:"column",refInFor:!0,tag:"component",attrs:{value:i.value,row:o.row,col:i.col,"row-key":o.key,"get-custom-detail-link":e.getCustomDetailLink}},"component",i.col.formatterOpts,!1)):i.component?t(i.component,e._b({tag:"component",attrs:{value:i.value,row:o.row,col:i.col,"row-key":o.key}},"component",i.col.formatterOpts,!1)):i.col.formatter?t(i.col.formatter,e._b({tag:"component",attrs:{value:i.value,row:o.row,col:i.col,"row-key":o.key}},"component",i.col.formatterOpts,!1)):""!==i.value?[e._v(" "+e._s(i.formatted)+" ")]:i.col.dashIfEmpty?[t("span",{staticClass:"text-muted"},[e._v("—")])]:e._e()]}),{row:o.row,col:i.col,value:i.value})],2)]}),{row:o.row,col:i.col,dt:e.dt,expanded:e.expanded,rowKey:o.key})]})),e.rowActions?t("td",{attrs:{align:"middle"}},[e._t("row-actions",(function(){return[t("button",{ref:"actionButton"+a,refInFor:!0,staticClass:"btn btn-sm role-multi-action actions",attrs:{id:`actionButton+${a}+${o.row&&o.row.name?o.row.name:""}`,"data-testid":e.componentTestid+"-"+a+"-action-button","aria-haspopup":"true","aria-expanded":"false",type:"button"},on:{click:function(t){return e.handleActionButtonClick(a,t)}}},[t("i",{staticClass:"icon icon-actions"})])]}),{row:o.row})],2):e._e()],2)]}),{fullColspan:e.fullColspan})]}),{row:o.row}),o.showSubRow?e._t("sub-row",(function(){return[o.row.stateDescription?t("tr",{key:o.row[e.keyField]+"-description",staticClass:"state-description sub-row",attrs:{"data-testid":e.componentTestid+"-"+a+"-row-description"},on:{mouseenter:e.onRowMouseEnter,mouseleave:e.onRowMouseLeave}},[e.tableActions?t("td",{staticClass:"row-check",attrs:{align:"middle"}}):e._e(),t("td",{class:{"text-error":o.row.stateObj.error},attrs:{colspan:e.fullColspan-(e.tableActions?1:0)}},[e._v(" "+e._s(o.row.stateDescription)+" ")])]):e._e()]}),{fullColspan:e.fullColspan,row:o.row,subMatches:e.subMatches,keyField:e.keyField,componentTestid:e.componentTestid,i:a,onRowMouseEnter:e.onRowMouseEnter,onRowMouseLeave:e.onRowMouseLeave}):e._e()]}))],2)}))],2),e.showPaging?t("div",{staticClass:"paging"},[t("button",{staticClass:"btn btn-sm role-multi-action",attrs:{type:"button","data-testid":"pagination-first",disabled:1==e.page||e.loading},on:{click:function(t){return e.goToPage("first")}}},[t("i",{staticClass:"icon icon-chevron-beginning"})]),t("button",{staticClass:"btn btn-sm role-multi-action",attrs:{type:"button","data-testid":"pagination-prev",disabled:1==e.page||e.loading},on:{click:function(t){return e.goToPage("prev")}}},[t("i",{staticClass:"icon icon-chevron-left"})]),t("span",[e._v(" "+e._s(e.pagingDisplay)+" ")]),t("button",{staticClass:"btn btn-sm role-multi-action",attrs:{type:"button","data-testid":"pagination-next",disabled:e.page==e.totalPages||e.loading},on:{click:function(t){return e.goToPage("next")}}},[t("i",{staticClass:"icon icon-chevron-right"})]),t("button",{staticClass:"btn btn-sm role-multi-action",attrs:{type:"button","data-testid":"pagination-last",disabled:e.page==e.totalPages||e.loading},on:{click:function(t){return e.goToPage("last")}}},[t("i",{staticClass:"icon icon-chevron-end"})])]):e._e(),e.search?t("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["/"],expression:"['/']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:function(t){return e.focusSearch()}}}):e._e(),e.tableActions?[t("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["j"],expression:"['j']"}],staticClass:"hide",on:{shortkey:function(t){return e.focusNext(t)}}}),t("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["k"],expression:"['k']"}],staticClass:"hide",on:{shortkey:function(t){return e.focusPrevious(t)}}}),t("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["shift","j"],expression:"['shift','j']"}],staticClass:"hide",on:{shortkey:function(t){return e.focusNext(t,!0)}}}),t("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["shift","k"],expression:"['shift','k']"}],staticClass:"hide",on:{shortkey:function(t){return e.focusPrevious(t,!0)}}}),e._t("shortkeys")]:e._e()],2)},i=[],s=o("9ce4"),n=o("050d"),r=o.n(n),l=o("330a"),d=o.n(l),c=o("2cb5"),u=o("e24b"),p=o("bddd"),h=o("0df0"),b=o("d709"),g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dropdown-button-group"},[t("div",{staticClass:"dropdown-button bg-primary",class:{"one-action":!e.dualAction,[e.buttonSize]:!0,disabled:e.disableButton}},[t("v-popover",{attrs:{placement:"bottom",container:!1,disabled:e.disableButton,"popper-options":{modifiers:{flip:{enabled:!1}}}},scopedSlots:e._u([{key:"popover",fn:function(){return[e._t("popover-content")]},proxy:!0}],null,!0)},[e._t("button-content",(function(){return[t("button",{ref:"popoverButton",staticClass:"icon-container bg-primary no-left-border-radius",class:e.buttonSize,attrs:{disabled:e.disableButton,type:"button"}},[e._v(" Button "),t("i",{staticClass:"icon icon-chevron-down"})])]}),{buttonSize:e.buttonSize})],2)],1)])},v=[],f={name:"ActionDropdown",props:{size:{type:String,default:""},dualAction:{type:Boolean,default:!0},disableButton:{type:Boolean,default:!1}},computed:{buttonSize(){const{size:e}=this;let t;switch(e){case"":t="btn";break;case"xs":t="btn btn-xs";break;case"sm":t="btn btn-sm";break;case"lg":t="btn btn-lg";break;default:}return t}},methods:{hasSlot(e="default"){return!!this.$slots[e]||!!this.$scopedSlots[e]},togglePopover(){}}},m=f,y=(o("78e0"),o("d802")),w=Object(y["a"])(m,g,v,!1,null,null,null),x=w.exports,k=o("05ca"),C=o.n(k),_=o("44db"),A=o.n(_),R=function(){var e=this,t=e._self._c;return t("thead",[t("tr",{class:{loading:e.loading,"top-aligned":e.hasColumnWithSubLabel}},[e.tableActions?t("th",{attrs:{width:e.checkWidth}},[t("Checkbox",{staticClass:"check",attrs:{"data-testid":"sortable-table_check_select_all",indeterminate:e.isIndeterminate,disabled:e.noRows||e.noResults},model:{value:e.isAll,callback:function(t){e.isAll=t},expression:"isAll"}})],1):e._e(),e.subExpandColumn?t("th",{attrs:{width:e.expandWidth}}):e._e(),e._l(e.columns,(function(o){return t("th",{directives:[{name:"show",rawName:"v-show",value:!e.hasAdvancedFiltering||e.hasAdvancedFiltering&&o.isColVisible,expression:"!hasAdvancedFiltering || (hasAdvancedFiltering && col.isColVisible)"}],key:o.name,class:{sortable:o.sort,[o.breakpoint]:!!o.breakpoint},attrs:{align:o.align||"left",width:o.width},on:{click:function(t){return t.preventDefault(),e.changeSort(t,o)}}},[t("div",{staticClass:"table-header-container",class:{"not-filterable":e.hasAdvancedFiltering&&!o.isFilter}},[t("div",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.tooltip(o),expression:"tooltip(col)"}],staticClass:"content"},[t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.labelFor(o),expression:"labelFor(col)"}]}),o.subLabel?t("span",{staticClass:"text-muted"},[e._v(" "+e._s(o.subLabel)+" ")]):e._e()]),o.sort?t("div",{staticClass:"sort"},[t("i",{directives:[{name:"show",rawName:"v-show",value:e.hasAdvancedFiltering&&!o.isFilter,expression:"hasAdvancedFiltering && !col.isFilter"},{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("sortableTable.tableHeader.noFilter"),expression:"t('sortableTable.tableHeader.noFilter')"}],staticClass:"icon icon-info not-filter-icon"}),t("span",{staticClass:"icon-stack"},[t("i",{staticClass:"icon icon-sort icon-stack-1x faded"}),e.isCurrent(o)&&!e.descending?t("i",{staticClass:"icon icon-sort-down icon-stack-1x"}):e._e(),e.isCurrent(o)&&e.descending?t("i",{staticClass:"icon icon-sort-up icon-stack-1x"}):e._e()])]):e._e()])])})),e.rowActions&&e.hasAdvancedFiltering&&e.tableColsOptions.length?t("th",{attrs:{width:e.rowActionsWidth}},[t("div",{ref:"table-options",staticClass:"table-options-group"},[t("button",{staticClass:"btn btn-sm role-multi-action table-options-btn",attrs:{"aria-haspopup":"true","aria-expanded":"false",type:"button"},on:{click:e.tableColsOptionsClick}},[t("i",{staticClass:"icon icon-actions"})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tableColsOptionsVisibility,expression:"tableColsOptionsVisibility"}],staticClass:"table-options-container",style:e.tableColsMenuPosition},[e.hasAdvGrouping?t("div",{staticClass:"table-options-grouping"},[t("span",{staticClass:"table-options-col-subtitle"},[e._v(e._s(e.t("sortableTable.tableHeader.groupBy"))+":")]),t("LabeledSelect",{staticClass:"table-options-grouping-select",attrs:{clearable:!0,options:e.groupOptions,disabled:!1,searchable:!1,mode:"edit",multiple:!1,taggable:!1},model:{value:e.advGroup,callback:function(t){e.advGroup=t},expression:"advGroup"}})],1):e._e(),t("p",{staticClass:"table-options-col-subtitle mb-20"},[e._v(" "+e._s(e.t("sortableTable.tableHeader.show"))+": ")]),t("ul",e._l(e.tableColsOptions,(function(o,a){return t("li",{directives:[{name:"show",rawName:"v-show",value:o.isTableOption,expression:"col.isTableOption"}],key:a,class:{visible:!o.preventColToggle}},[t("Checkbox",{directives:[{name:"show",rawName:"v-show",value:!o.preventColToggle,expression:"!col.preventColToggle"}],staticClass:"table-options-checkbox",attrs:{label:o.label},on:{input:function(t){return e.tableOptionsCheckbox(t,o.label)}},model:{value:o.isColVisible,callback:function(t){e.$set(o,"isColVisible",t)},expression:"col.isColVisible"}})],1)})),0)])])]):e.rowActions?t("th",{attrs:{width:e.rowActionsWidth}}):e._e()],2)])},S=[],T=o("98d3");function O(e,t){var o;if(e=null===(o=e)||void 0===o?void 0:o.parentElement,!e)return null;const a=e.matches||e.matchesSelector;return a.call(e,t)?e:O(e,t)}const $="all",L="some",F="none";var B={mounted(){const e=this.$el.querySelector("TABLE");this._onRowClickBound=this.onRowClick.bind(this),this._onRowMousedownBound=this.onRowMousedown.bind(this),this._onRowContextBound=this.onRowContext.bind(this),e.addEventListener("click",this._onRowClickBound),e.addEventListener("mousedown",this._onRowMousedownBound),e.addEventListener("contextmenu",this._onRowContextBound)},beforeDestroy(){const e=this.$el.querySelector("TABLE");e.removeEventListener("click",this._onRowClickBound),e.removeEventListener("mousedown",this._onRowMousedownBound),e.removeEventListener("contextmenu",this._onRowContextBound)},computed:{howMuchSelected(){const e=this.pagedRows.length,t=this.selectedRows.length;return t>=e&&e>0?$:t>0?L:F},bulkActionsForSelection(){let e=!1;const t=this.pagedRows,o=this.arrangedRows||t;let a=this.selectedRows;if(!this.selectedRows.length){if(!o)return[];const t=o[0];a=t?[t]:[],e=!0}const i={};for(const n of t)if(n.availableActions)for(const e of n.availableActions)e.bulkable&&P(i,e,!1);for(const n of a)if(n.availableActions)for(const e of n.availableActions)e.bulkable&&e.enabled&&P(i,e,!1);const s=N(i,e);return s.forEach(e=>{const t=this.selectedRows.some(t=>{const o=t.availableActions||[];return o.some(t=>t.action===e.action&&t.enabled)});e.enabled=this.selectedRows.length>0&&t}),s.sort((e,t)=>(t.weight||0)-(e.weight||0))}},data(){return{selectedRows:[],prevNode:null}},watch:{pagedRows(){const e=this.pagedRows,t=[];for(const o of this.selectedRows)e.includes(o)||t.push(o);this.update([],t)}},methods:{onToggleAll(e){return e?(this.update(this.pagedRows,[]),!0):(this.update([],this.pagedRows),!1)},onRowMousedown(e){(Object(T["d"])(e)||this.isSelectionCheckbox(e.target))&&e.preventDefault()},onRowMouseEnter(e){const t=e.target.closest("TR");if(t.classList.contains("sub-row")){const e=t.previousElementSibling;e.classList.add("sub-row-hovered")}},onRowMouseLeave(e){const t=e.target.closest("TR");if(t.classList.contains("sub-row")){const e=t.previousElementSibling;e.classList.remove("sub-row-hovered")}},nodeForEvent(e){const t=e.target.tagName,o=e.target,a=o.closest(".actions");if(o.classList.contains("select-all-check"))return;if(!a&&("A"===t||"BUTTON"===t||O(o,".btn")))return;const i=e.target.closest("TR");return this.nodeForRow(i)},nodeForRow(e){var t;if(null!==(t=e)&&void 0!==t&&t.classList.contains("separator-row"))return;while(e&&!e.classList.contains("main-row"))e=e.previousElementSibling;if(!e)return;const o=e.dataset.nodeId;if(!o)return;const a=this.pagedRows.find(e=>Object(u["g"])(e,this.keyField)===o);return a},async onRowClick(e){const t=this.nodeForEvent(e),o=e.target.closest("TD"),a=null===o||void 0===o?void 0:o.classList.contains("skip-select");if(a)return;const i=this.selectedRows,s=this.isSelectionCheckbox(e.target)||(null===o||void 0===o?void 0:o.classList.contains("row-check")),n=null===o||void 0===o?void 0:o.classList.contains("row-expand"),r=this.pagedRows;if(this.$emit("rowClick",e),!t)return;if(n)return void this.toggleExpand(t);const l=e.target.closest(".actions");if(l){let o=[t];if(this.mangleActionResources){const e=l.querySelector("i");e.classList.remove("icon-actions"),e.classList.add("icon-spinner"),e.classList.add("icon-spin");try{o=await this.mangleActionResources(o)}finally{e.classList.remove("icon-spinner"),e.classList.remove("icon-spin"),e.classList.add("icon-actions")}}return void this.$store.commit("action-menu/show",{resources:o,event:e,elem:l})}const d=i.includes(t);let c=this.prevNode;if(c&&r.includes(c)||(c=t),Object(T["c"])(e))this.toggle(t);else if(Object(T["d"])(e)){const e=this.nodesBetween(c,t);d?this.update([],e):this.update(e,[])}else s?this.toggle(t):this.update([t],r);this.prevNode=t},async onRowContext(e){const t=this.nodeForEvent(e);if(Object(T["e"])(e))return;if(!t)return;e.preventDefault(),e.stopPropagation(),this.prevNode=t;const o=this.selectedRows.includes(t);o||this.update([t],this.selectedRows.slice());let a=this.selectedRows;this.mangleActionResources&&(a=await this.mangleActionResources(a)),this.$store.commit("action-menu/show",{resources:a,event:e})},keySelectRow(e,t=!1){const o=this.nodeForRow(e),a=this.pagedRows;o&&(t?this.update([o],[]):this.update([o],a),this.prevNode=o)},isSelectionCheckbox(e){return"INPUT"===e.tagName&&"checkbox"===e.type&&null!==e.closest(".selection-checkbox")},nodesBetween(e,t){let o=[];const a=this.groupBy;if(a){const a=this.groupedRows;let i=this.groupIdx(e),s=this.groupIdx(t);if(!i||!s)return[];(i.group>s.group||i.group===s.group&&i.item>s.item)&&([i,s]=[s,i]);for(let e=i.group;e<=s.group;e++){const t=a[e].rows;let n=i.group===e?i.item:0;while(t[n]&&(e<s.group||n<=s.item))o.push(t[n]),n++}}else{const a=this.pagedRows;let i=a.indexOf(e),s=a.indexOf(t);[i,s]=[Math.min(i,s),Math.max(i,s)],o=a.slice(i,s+1)}return o=o.filter(e=>!this.selectedRows.includes(e)),o},groupIdx(e){const t=this.groupedRows;for(let o=0;o<t.length;o++){const a=t[o].rows;for(let t=0;t<a.length;t++)if(a[t]===e)return{group:o,item:t}}return null},toggle(e){const t=[],o=[];this.selectedRows.includes(e)?o.push(e):t.push(e),this.update(t,o)},update(e,t){t.forEach(e=>{const t=this.selectedRows.findIndex(t=>t===e);-1!==t&&this.selectedRows.splice(t,1)}),e&&this.selectedRows.push(...e),t.length&&this.$nextTick(()=>{for(let e=0;e<t.length;e++)this.updateInput(t[e],!1,this.keyField)}),e.length&&this.$nextTick(()=>{for(let t=0;t<e.length;t++)this.updateInput(e[t],!0,this.keyField)}),this.$nextTick(()=>{this.$emit("selection",this.selectedRows)})},updateInput(e,t,o){const a=Object(u["g"])(e,o);if(a){const e=this.$el.querySelector(`div[data-checkbox-ctrl][data-node-id="${a}"]`);if(e&&!e.disabled){const o=e.querySelector("label");o&&(o.value=t);let a=e.closest("tr"),i=!0;while(a&&(i||a.classList.contains("sub-row")))t?a.classList.add("row-selected"):a.classList.remove("row-selected"),a=a.nextElementSibling,i=!1}}},select(e){e.forEach(e=>{const t=Object(u["g"])(e,this.keyField),o=this.$el.querySelector(`label[data-node-id="${t}"]`);o.dispatchEvent(new Event("click"))})},applyTableAction(e,t,o){const a={alt:o&&Object(T["a"])(o),event:o},i=this.selectedRows.filter(t=>{const o=t.availableActions.find(t=>t.action===e.action);return null===o||void 0===o?void 0:o.enabled});D(i,e,t,a,this),this.actionOfInterest=null},clearSelection(){this.update([],this.selectedRows)}}};let E=0;function P(e,t,o=!0){let a=t.action;a||(a="anon"+E,E++);let i=e[a];return i||(i=Object.assign({},t),e[a]=i,i.allEnabled=!1),t.enabled?i.anyEnabled=!0:i.allEnabled=!1,o&&(i.available=(i.available||0)+(t.enabled?1:0),i.total=(i.total||0)+1),i}function N(e,t=!1){const o=Object(p["d"])(Object.values(e),"anyEnabled",!0);for(const a of o)a.enabled=!t&&a.available>=a.total;return o}function D(e,t,o,a={},i){if(o=o||[],t.invoke){const s={action:t,event:a.event,isAlt:!!a.alt};return t.invoke.apply(i,[s,e||[],o])}if(e.length>1&&t.bulkAction&&!a.alt){const a=e[0][t.bulkAction];if(a)return a.call(e[0],e,...o)}const s=[];for(const n of e){let e;e=a.alt&&t.altAction?n[t.altAction]:n[t.action],e&&s.push(e.apply(n,o))}return Promise.all(s)}const M="left",j="right",I="top",H="center",q="center",V="bottom",G="auto";function U(e){const t=e.getBoundingClientRect(),o=e.offsetWidth,a=e.offsetHeight;return{top:t.top,right:t.left+o,bottom:t.top+a,left:t.left,width:o,height:a}}function z(e){return{top:e.clientY,left:e.clientX,bottom:e.clientY,right:e.clientX,width:0,height:0}}function K(){const e=window.innerWidth,t=window.innerHeight,o=window.pageYOffset,a=window.pageXOffset;return{top:o,right:a+e,bottom:o+t,left:a,width:e,height:t}}function W(e,t,o,a){let{positionX:i=G,positionY:s=G}=o||{};const{fudgeX:n=0,fudgeY:r=0,overlapX:l=!0,overlapY:d=!1}=o||{},c=K();let u;u=t instanceof Event?z(t):U(t);let p={};e&&(p=U(e)),a&&(p={top:0,right:147,bottom:163,left:0,width:147,height:80});const h={position:"absolute"},b={left:l?u.left:u.right,center:(u.left+u.right)/2,right:l?u.right:u.left,top:d?u.bottom:u.top,middle:(u.top+u.bottom)/2,bottom:d?u.top:u.bottom},g={left:c.right-p.width-b.left,center:Math.min(c.right-p.width/2-b.center,b.center-p.width/2-c.left),right:b.right-p.width-c.left,top:b.bottom-p.height-c.top,middle:Math.min(b.middle-p.height/2-c.top,c.bottom-p.height/2-b.middle),bottom:c.bottom-p.height-b.top};switch(i===H&&g.center<0&&(i=G),i===G?i=g.left<0||1.5*g.right>g.left?j:M:s===M&&g.left<0?i=j:s===j&&g.right<0&&(i=M),i){case M:h.left=b.left-n+"px";break;case H:h.left=(b.left+b.right)/2-p.width/2-n+"px";break;case j:h.left=b.right+n-p.width+"px";break}switch(s===q&&g.middle<0&&(s=G),s===G?s=g.top<0||1.5*g.bottom>g.top?V:I:s===I&&g.top<0?s=V:s===V&&g.bottom<0&&(s=I),s){case I:h.top=b.top+r-p.height+"px";break;case H:h.top=(b.top+b.bottom)/2+r-p.height+"px";break;case V:h.top=b.bottom-r+"px";break}return h}var Q=o("466b"),Y={components:{Checkbox:h["a"],LabeledSelect:Q["a"]},props:{columns:{type:Array,required:!0},sortBy:{type:String,required:!0},defaultSortBy:{type:String,default:""},group:{type:String,default:""},groupOptions:{type:Array,default:()=>[]},descending:{type:Boolean,required:!0},hasAdvancedFiltering:{type:Boolean,required:!1},tableColsOptions:{type:Array,default:()=>[]},tableActions:{type:Boolean,required:!0},rowActions:{type:Boolean,required:!0},howMuchSelected:{type:String,required:!0},checkWidth:{type:Number,default:30},rowActionsWidth:{type:Number,required:!0},subExpandColumn:{type:Boolean,default:!1},expandWidth:{type:Number,default:30},labelFor:{type:Function,required:!0},noRows:{type:Boolean,default:!0},noResults:{type:Boolean,default:!0},loading:{type:Boolean,required:!1}},data(){return{tableColsOptionsVisibility:!1,tableColsMenuPosition:null}},watch:{advancedFilteringValues(){this.watcherUpdateLiveAndDelayed(!0,!1)},tableColsOptionsVisibility(e){e?(window.addEventListener("click",this.onClickOutside),this.$emit("update-cols-options")):window.removeEventListener("click",this.onClickOutside)}},computed:{isAll:{get(){return this.howMuchSelected!==F},set(e){this.$emit("on-toggle-all",e)}},hasAdvGrouping(){var e,t;return(null===(e=this.group)||void 0===e?void 0:e.length)&&(null===(t=this.groupOptions)||void 0===t?void 0:t.length)},advGroup:{get(){return this.group||this.advGroup},set(e){this.$emit("group-value-change",e)}},isIndeterminate(){return this.howMuchSelected===L},hasColumnWithSubLabel(){return this.columns.some(e=>e.subLabel)}},methods:{changeSort(e,t){if(!t.sort)return;let o=!1;this.sortBy===t.name&&(o=!this.descending),this.$emit("on-sort-change",t.name,o)},isCurrent(e){return e.name===this.sortBy},tableColsOptionsClick(e){const t=document.querySelector(".table-options-container"),o=document.querySelector(".table-options-btn");this.tableColsMenuPosition=W(t,e||o,{overlapX:!0,fudgeX:326,fudgeY:-22,positionX:H,positionY:G}),this.tableColsOptionsVisibility=!this.tableColsOptionsVisibility},onClickOutside(e){const t=this.$refs["table-options"];t&&!t.contains(e.target)&&(this.tableColsOptionsVisibility=!1)},tableOptionsCheckbox(e,t){this.$emit("col-visibility-change",{label:t,value:e})},tooltip(e){if(!e.tooltip)return null;const t=this.$store.getters["i18n/exists"];return t(e.tooltip)?this.t(e.tooltip):e.tooltip}}},X=Y,J=(o("6423"),o("b4ab"),Object(y["a"])(X,R,S,!1,null,"59946620",null)),Z=J.exports;const ee="allcols",te="All Columns",oe=":::islabel";var ae={data(){return{searchQuery:null,previousFilter:null,previousResult:null}},computed:{searchFields(){const e=ie(this.columns);return this.extraSearchFields&&Object(p["b"])(e,this.extraSearchFields),e},filteredRows(){if(!this.externalPaginationEnabled)return this.hasAdvancedFiltering?this.handleAdvancedFiltering():this.handleFiltering()}},methods:{handleAdvancedFiltering(){if(this.subMatches=null,this.searchQuery.length){const e=(this.arrangedRows||[]).slice(),t=e.filter(e=>this.searchQuery.every(t=>{if(t.prop===ee){const o=this.advFilterSelectOptions.slice(1);let a=[];return o.forEach(e=>{if(e.value.includes("[")&&e.value.includes("]"))a=a.concat(JSON.parse(e.value));else{const t=e.isLabel?`${e.label}${oe}`:e.value;a.push(t)}}),ne(a,[t.value],e)}{if(t.prop.includes("[")&&t.prop.includes("]"))return ne(JSON.parse(t.prop),[t.value],e);let o=t.prop;return t.prop.includes("metadata.labels")&&(o=`${t.label}${oe}`),ne([o],[t.value],e)}}));return t}return this.arrangedRows},handleFiltering(){const e=(this.searchQuery||"").trim().toLowerCase();let t;if(e&&this.previousResult&&e.startsWith(this.previousFilter)?t=this.previousResult.slice():(this.previousResult=null,t=(this.arrangedRows||[]).slice()),this.previousFilter=e,!e.length)return this.subMatches=null,this.previousResult=null,t;const o=this.searchFields,a=e.split(/\s*[, ]\s*/),i=this.subSearch,s=this.subFields,n={};for(let r=t.length-1;r>=0;r--){const e=t[r];let l=0,d=!0;if(d=ne(o,a,e),s&&i){const t=e[i]||[];for(let o=t.length-1;o>=0;o--){let t=!0;t=ne(s,a,e),t&&l++}n[Object(u["g"])(e,this.keyField)]=l}d||0!==l||Object(p["h"])(t,r)}return this.subMatches=n,this.previousResult=t,t}},watch:{arrangedRows(e){this.previousResult=null},searchQuery(){this.debouncedPaginationChanged()}}};function ie(e){const t=[];return(e||[]).forEach(e=>{const o=e.search;o?"string"===typeof o?Object(p["a"])(t,o):Object(p["g"])(o)&&Object(p["b"])(t,o):!1===o||Object(p["a"])(t,e.value||e.name)}),t.filter(e=>!!e)}const se=/^[0-9a-f\.:]+$/i;function ne(e,t,o){for(let a=0;a<t.length;a++){let i=!0,s=t[a];return"!"===s.substr(0,1)&&(i=!1,s=s.substr(1)),!s||re(e,s,o)===i}}function re(e,t,o){for(let a of e){if(!a)continue;if("function"!==typeof a&&a.includes(oe)&&(!o.metadata.labels||!o.metadata.labels[a.replace(oe,"")]))continue;let e,i;if("function"===typeof a)i=a(o);else if(a.includes(oe))i=o.metadata.labels[a.replace(oe,"")];else{const t=a.indexOf(":");t>0&&(e=a.substr(t+1),a=a.substr(0,t)),i=a.includes(".")?Object(u["g"])(o,a):o[a]}if(void 0!==i&&(i=(""+i).toLowerCase(),i))if(e){if("exact"===e){if(i===t)return!0}else if("ip"===e){const e=se.test(t);if(e){const e=new RegExp(`(?:^|\\.)${t}(?:\\.|$)`);if(e.test(i))return!0}}else if("prefix"===e&&0===i.indexOf(t))return!0}else if(i.includes((""+t).toLowerCase()))return!0}return!1}var le=o("1d19");const de=["nameSort","id"];var ce={computed:{sortFields(){let e=(this.groupBy?this.groupSort||this.groupBy:null)||[],t=[];const o=(this.columns||this.headers).find(e=>e&&e.name&&e.name.toLowerCase()===this.sortBy.toLowerCase());return this.sortBy&&o&&o.sort&&(t=o.sort),Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),Object(p["k"])([...e,...t].concat(...this.mandatorySort||de))},arrangedRows(){if(this.externalPaginationEnabled)return;let e;if(this.sortGenerationFn&&(e=`${this.sortGenerationFn.apply(this)}/${this.rows.length}/${this.descending}/${this.sortFields.join(",")}`,this.cacheKey===e))return this.cachedRows;const t=Object(le["a"])(this.rows,this.sortFields,this.descending);return e&&(this.cacheKey=e,this.cachedRows=t),t}},data(){let e=null;if(this._defaultSortBy=this.defaultSortBy,!this._defaultSortBy){const e=this.headers.find(e=>!!e.defaultSort),t=this.headers.find(e=>"name"===e.name);if(e)this._defaultSortBy=e.name;else if(t)this._defaultSortBy=t.name;else{const e=this.headers.filter(e=>"state"!==e.name)[0];this._defaultSortBy=e?e.name:"id"}}return e&&this.headers.find(t=>t.name===e)||(e=this._defaultSortBy),{sortBy:e,descending:!1,cachedRows:null,cacheKey:null}},methods:{changeSort(e,t){this.sortBy=e,this.descending=t,this.setPage(1)}},watch:{sortFields(){this.debouncedPaginationChanged()},descending(){this.debouncedPaginationChanged()}}},ue=o("5000"),pe={computed:{totalRows(){var e;return this.externalPaginationEnabled?(null===(e=this.externalPaginationResult)||void 0===e?void 0:e.count)||0:this.filteredRows.length},indexFrom(){return Math.max(0,1+this.perPage*(this.page-1))},indexTo(){return Math.min(this.totalRows,this.indexFrom+this.perPage-1)},totalPages(){return Math.ceil(this.totalRows/this.perPage)},showPaging(){if(!this.paging)return!1;const e=this.totalPages>1;return(this.altLoading||!this.loading)&&e},pagingDisplay(){const e={...this.pagingParams||{},count:this.totalRows,pages:this.totalPages,from:this.indexFrom,to:this.indexTo};return this.$store.getters["i18n/t"](this.pagingLabel,e)},pagedRows(){return this.externalPaginationEnabled?this.rows:this.paging?this.filteredRows.slice(this.indexFrom-1,this.indexTo):this.filteredRows}},data(){const e=this.getPerPage();return{page:1,perPage:e}},watch:{pagedRows(){const e=this.indexFrom,t=this.totalRows;this.totalPages>0&&this.page>1&&e>t&&this.setPage(this.totalPages)},page(){this.debouncedPaginationChanged()},perPage(){this.debouncedPaginationChanged()}},methods:{getPerPage(){let e=this.rowsPerPage||0;return e<=0&&(e=parseInt(this.$store.getters["prefs/get"](ue["g"]),10)||0),e<=0&&(e=10),e},setPage(e){this.page!==e&&(this.page=e)},goToPage(e){let t;switch(e){case"first":t=1;break;case"prev":t=Math.max(1,this.page-1);break;case"next":t=Math.min(this.totalPages,this.page+1);break;case"last":t=this.totalPages;break}this.setPage(t)},getPageByRow(e,t=(e=>e)){const o=this.filteredRows.map(t).indexOf(e);return-1===o?null:Math.ceil(o/this.perPage)}}},he={computed:{selectedGroupOption(){var e;return null===(e=this.groupOptions)||void 0===e?void 0:e.find(e=>e.value===this.group)},groupedRows(){var e;const t=this.groupBy,o=this.groupRef||(null===(e=this.selectedGroupOption)||void 0===e?void 0:e.groupLabelKey)||t;if(!t)return[{key:"default",ref:"default",rows:this.pagedRows}];const a=[],i={};for(const s of this.pagedRows){const e=Object(u["g"])(s,t)||"",n=Object(u["g"])(s,o);let r=i[e];r?r.rows.push(s):(r={key:e,ref:n,rows:[s]},i[e]=r,a.push(r))}return a}}};const be="inline-block";var ge={data(){return{bulkActionsClass:"bulk",bulkActionClass:"bulk-action",bulkActionsDropdownClass:"bulk-actions-dropdown",bulkActionAvailabilityClass:"action-availability",hiddenActions:[],updateHiddenBulkActions:A()(this.protectedUpdateHiddenBulkActions,10)}},beforeDestroy(){window.removeEventListener("resize",this.onWindowResize)},mounted(){window.addEventListener("resize",this.onWindowResize),this.updateHiddenBulkActions()},watch:{selectedRows(){this.updateHiddenBulkActions()},keyedAvailableActions(){this.updateHiddenBulkActions()}},computed:{availableActions(){return this.bulkActionsForSelection.filter(e=>!e.external)},keyedAvailableActions(){return this.availableActions.map(e=>e.action)},selectedRowsText(){return this.selectedRows.length?this.t("sortableTable.actionAvailability.selected",{actionable:this.selectedRows.length}):null},actionTooltip(){if(!this.selectedRows.length||!this.actionOfInterest)return null;const e=this.selectedRows.filter(this.canRunBulkActionOfInterest).length;return e===this.selectedRows.length?null:this.t("sortableTable.actionAvailability.some",{actionable:e,total:this.selectedRows.length})}},methods:{onWindowResize(){this.updateHiddenBulkActions(),this.onScroll()},protectedUpdateHiddenBulkActions(){if(!this.$refs.container)return;const e=this.$refs.container.querySelector("."+this.bulkActionsClass),t=this.$refs.container.querySelector("."+this.bulkActionsDropdownClass);if(!e||!t)return;const o=e.offsetWidth,a=this.$refs.container.querySelectorAll("."+this.bulkActionClass),i=Array.from(a||[]),s=this.$refs.container.querySelector("."+this.bulkActionAvailabilityClass);let n=0;this.selectedRowsText&&(s?(s.style.display=be,n=s.offsetWidth):s.style.display="none;"),this.hiddenActions=[];let r=0,l=!1,d=o-n;for(let c=0;c<i.length;c++){const e=i[c];e.style.display=be;const a=e.offsetWidth;if(r+=a+15,r>=d)if(l){const t=e.attributes.getNamedItem("id").value;this.hiddenActions.push(this.availableActions.find(e=>e.action===t)),e.style.display="none"}else t.style.display=be,c=-1,r=0,l=!0,d=o-t.offsetWidth-n}l||(t.style.display="none")}}};const ve=ee;var fe={props:{group:{type:String,default:()=>""},groupOptions:{type:Array,default:()=>[]},hasAdvancedFiltering:{type:Boolean,default:!1},advFilterHideLabelsAsCols:{type:Boolean,default:!1},advFilterPreventFilteringLabels:{type:Boolean,default:!1}},data(){return{columnOptions:[],colOptionsWatcher:null,advancedFilteringVisibility:!1,advancedFilteringValues:[],advFilterSearchTerm:null,advFilterSelectedProp:ve,advFilterSelectedLabel:te,column:null}},mounted(){this.hasAdvancedFiltering&&this.updateColsOptions()},watch:{advancedFilteringValues(){this.watcherUpdateLiveAndDelayed(!0,!1)},advancedFilteringVisibility(e){e?(window.addEventListener("click",this.onClickOutside),this.updateColsOptions()):window.removeEventListener("click",this.onClickOutside)}},computed:{advFilterSelectOptions(){return this.columnOptions.filter(e=>e.isFilter&&!e.preventFiltering)},advGroupOptions(){return this.groupOptions.map(e=>({label:this.t(e.tooltipKey),value:e.value}))}},methods:{handleColsVisibilyAndFiltering(e){const t=e;return this.columnOptions.forEach(e=>{if(e.isTableOption){const o=t.findIndex(t=>t.name===e.name);-1!==o?(t[o].isColVisible=e.isColVisible,t[o].isFilter=e.isFilter):t.push(e)}}),t},setColsOptions(){let e=[];const t=[],o=[],a=this.headers.slice().filter(e=>!e.maxPageSize||e.maxPageSize&&e.maxPageSize>=this.perPage);return a.forEach(e=>{var t;const a=e.name,i=e.labelKey?this.t(""+e.labelKey):e.label,s=!(Object.keys(e).includes("search")&&!e.search);let n=e.sort;const r=e.valueProp||e.value;let l=null,d=!0;if(e.sort&&r?("string"===typeof e.sort&&(n=e.sort.includes(":")?[e.sort.split(":")[0]]:[e.sort]),l=n.includes(r)?JSON.stringify([r]):JSON.stringify(n.concat([r]))):l=r?JSON.stringify([r]):null,null!==(t=this.columnOptions)&&void 0!==t&&t.length){const e=this.columnOptions.find(e=>e.name===a&&e.label===i);e&&(d=e.isColVisible)}o.push({name:a,label:i,value:l,isFilter:s,isTableOption:!0,isColVisible:d})}),this.rows.length&&this.rows.forEach(e=>{var o,a,i;null!==(o=e.metadata)&&void 0!==o&&o.labels&&Object.keys(null===(a=e.metadata)||void 0===a?void 0:a.labels).length&&Object.keys(null===(i=e.metadata)||void 0===i?void 0:i.labels).forEach(e=>{var o;const a={name:e,label:e,value:"metadata.labels."+e,isFilter:!0,isTableOption:!0,isColVisible:!1,isLabel:!0,preventFiltering:this.advFilterPreventFilteringLabels,preventColToggle:this.advFilterHideLabelsAsCols};if(null!==(o=this.columnOptions)&&void 0!==o&&o.length){const t=this.columnOptions.find(t=>t.name===e&&t.label===e);t&&(a.isColVisible=t.isColVisible)}t.filter(t=>t.label===e).length||t.push(a)})}),e=o.concat(t),e.length&&e.unshift({name:te,label:te,value:ee,isFilter:!0,isTableOption:!1}),e},addAdvancedFilter(){this.advFilterSelectedProp&&this.advFilterSearchTerm&&(this.advancedFilteringValues.push({prop:this.advFilterSelectedProp,value:this.advFilterSearchTerm,label:this.advFilterSelectedLabel}),this.eventualSearchQuery=this.advancedFilteringValues,this.advancedFilteringVisibility=!1,this.advFilterSelectedProp=ve,this.advFilterSelectedLabel=te,this.advFilterSearchTerm=null)},clearAllAdvancedFilters(){this.advancedFilteringValues=[],this.eventualSearchQuery=this.advancedFilteringValues,this.advancedFilteringVisibility=!1,this.advFilterSelectedProp=ve,this.advFilterSelectedLabel=te,this.advFilterSearchTerm=null},clearAdvancedFilter(e){this.advancedFilteringValues.splice(e,1),this.eventualSearchQuery=this.advancedFilteringValues},onClickOutside(e){const t=this.$refs["advanced-filter-group"];t&&!t.contains(e.target)&&(this.advancedFilteringVisibility=!1)},updateColsOptions(){this.columnOptions=this.setColsOptions()},changeColVisibility(e){const t=this.columnOptions.findIndex(t=>t.label===e.label);-1!==t&&(this.columnOptions[t].isColVisible=e.value)}}};const me={};var ye={name:"SortableTable",components:{THead:Z,Checkbox:h["a"],AsyncButton:b["b"],ActionDropdown:x,LabeledSelect:Q["a"]},mixins:[ae,ce,pe,he,B,ge,fe],props:{headers:{type:Array,required:!0},rows:{type:Array,required:!0},keyField:{type:String,default:"_key"},loading:{type:Boolean,required:!1},altLoading:{type:Boolean,required:!1},groupBy:{type:String,default:null},groupRef:{type:String,default:null},groupSort:{type:Array,default:null},defaultSortBy:{type:String,default:null},tableActions:{type:Boolean,default:!0},rowActions:{type:Boolean,default:!0},mangleActionResources:{type:Function,default:null},rowActionsWidth:{type:Number,default:40},search:{type:Boolean,default:!0},extraSearchFields:{type:Array,default:null},subRows:{type:Boolean,default:!1},subRowsDescription:{type:Boolean,default:!0},subExpandable:{type:Boolean,default:!1},subExpandColumn:{type:Boolean,default:!1},subSearch:{type:String,default:null},subFields:{type:Array,default:null},topDivider:{type:Boolean,default:!0},bodyDividers:{type:Boolean,default:!1},overflowX:{type:Boolean,default:!1},overflowY:{type:Boolean,default:!1},paging:{type:Boolean,default:!1},pagingLabel:{type:String,default:"sortableTable.paging.generic"},pagingParams:{type:Object,default:null},rowsPerPage:{type:Number,default:null},noRowsKey:{type:String,default:"sortableTable.noRows"},showNoRows:{type:Boolean,default:!0},noDataKey:{type:String,default:"sortableTable.noData"},showHeaders:{type:Boolean,default:!0},sortGenerationFn:{type:Function,default:null},mandatorySort:{type:Array,default:null},getCustomDetailLink:{type:Function,default:null},componentTestid:{type:String,default:"sortable-table"},useQueryParamsForSimpleFiltering:{type:Boolean,default:!1},forceUpdateLiveAndDelayed:{type:Number,default:0},externalPaginationEnabled:{type:Boolean,default:!1},externalPaginationResult:{type:Object,default:null}},data(){var e;let t="",o="";var a,i;!this.hasAdvancedFiltering&&this.useQueryParamsForSimpleFiltering&&null!==(e=this.$route.query)&&void 0!==e&&e.q&&(t=null===(a=this.$route.query)||void 0===a?void 0:a.q,o=null===(i=this.$route.query)||void 0===i?void 0:i.q);return{refreshButtonPhase:b["a"].WAITING,expanded:{},searchQuery:t,eventualSearchQuery:o,subMatches:null,actionOfInterest:null,loadingDelay:!1,debouncedPaginationChanged:null,isLoading:!1}},mounted(){this._loadingDelayTimer=setTimeout(()=>{this.loadingDelay=!0},200);const e=document.querySelector("main");this._onScroll=this.onScroll.bind(this),null===e||void 0===e||e.addEventListener("scroll",this._onScroll),this.debouncedPaginationChanged()},beforeDestroy(){clearTimeout(this._scrollTimer),clearTimeout(this._loadingDelayTimer),clearTimeout(this._altLoadingDelayTimer),clearTimeout(this._liveColumnsTimer),clearTimeout(this._delayedColumnsTimer),clearTimeout(this.manualRefreshTimer);const e=document.querySelector("main");null===e||void 0===e||e.removeEventListener("scroll",this._onScroll)},watch:{eventualSearchQuery:A()((function(e){if(this.searchQuery=e,!this.hasAdvancedFiltering&&this.useQueryParamsForSimpleFiltering){var t;const o={name:this.$route.name,params:{...this.$route.params},query:{...this.$route.query,q:e}};!e&&null!==(t=this.$route.query)&&void 0!==t&&t.q&&(o.query={}),this.$router.replace(o)}}),200),descending(e,t){this.watcherUpdateLiveAndDelayed(e,t)},searchQuery(e,t){this.watcherUpdateLiveAndDelayed(e,t)},sortFields(e,t){this.watcherUpdateLiveAndDelayed(e,t)},groupBy(e,t){this.watcherUpdateLiveAndDelayed(e,t)},namespaces(e,t){this.watcherUpdateLiveAndDelayed(e,t)},page(e,t){this.watcherUpdateLiveAndDelayed(e,t)},forceUpdateLiveAndDelayed(e,t){this.watcherUpdateLiveAndDelayed(e,t)},initalLoad:{handler(e){e&&(this._didinit=!0,this.$nextTick(()=>this.updateLiveAndDelayed()))},immediate:!0},manualRefreshLoadingFinished:{handler(e,t){this.refreshButtonPhase=e?b["a"].ACTION:b["a"].WAITING,e&&e!==t&&this.$nextTick(()=>this.updateLiveAndDelayed())},immediate:!0},loading:{handler(e,t){this.refreshButtonPhase=e?b["a"].WAITING:b["a"].ACTION,this.altLoading?e?this._altLoadingDelayTimer=setTimeout(()=>{this.isLoading=!0},200):(clearTimeout(this._altLoadingDelayTimer),this.isLoading=!1):this.isLoading=e},immediate:!0}},created(){this.debouncedRefreshTableData=A()(this.refreshTableData,500),this.debouncedPaginationChanged=A()(this.paginationChanged,50)},computed:{...Object(s["b"])({isTooManyItemsToAutoUpdate:"resource-fetch/isTooManyItemsToAutoUpdate"}),...Object(s["b"])({isManualRefreshLoading:"resource-fetch/manualRefreshIsLoading"}),namespaces(){return this.$store.getters["activeNamespaceCache"]},initalLoad(){var e;return!(this.isLoading||this._didinit||null===(e=this.rows)||void 0===e||!e.length)},manualRefreshLoadingFinished(){var e;const t=!(this.isLoading||!this._didinit||null===(e=this.rows)||void 0===e||!e.length||this.isManualRefreshLoading);return this.refreshButtonPhase=!t||this.loading?b["a"].WAITING:b["a"].ACTION,t},fullColspan(){let e=0;for(let t=0;t<this.columns.length;t++)this.columns[t].hide||e++;return this.tableActions&&e++,this.subExpandColumn&&e++,this.rowActions&&e++,e},noResults(){return!!this.searchQuery&&0===this.pagedRows.length},noRows(){return!this.noResults&&0===(this.rows||[]).length},showHeaderRow(){var e,t,o;return this.search||this.tableActions||(null===(e=this.$slots["header-left"])||void 0===e?void 0:e.length)||(null===(t=this.$slots["header-middle"])||void 0===t?void 0:t.length)||(null===(o=this.$slots["header-right"])||void 0===o?void 0:o.length)},columns(){const e=this.headers.slice().filter(e=>!e.maxPageSize||e.maxPageSize&&e.maxPageSize>=this.perPage);if(this.groupBy){const t=e.find(e=>e.name===this.groupBy);t&&Object(p["i"])(e,t)}const t=e.find(e=>!e.width);if(!t){const t=e.find(e=>e.canBeVariable);if(t){const o=Object(u["e"])(t);delete o.width,e.splice(e.indexOf(t),1,o)}}if(this.hasAdvancedFiltering){const t=this.handleColsVisibilyAndFiltering(e);return t}return e},dt(){const e={check:"Select: ",actions:"Actions: "};return this.columns.forEach(t=>{e[t.name]=(t.label||t.name)+":"}),e},classObject(){return{"top-divider":this.topDivider,"body-dividers":this.bodyDividers,"overflow-y":this.overflowY,"overflow-x":this.overflowX,"alt-loading":this.altLoading&&this.isLoading}},hasLiveColumns(){const e=this.columns.find(e=>{var t;return(null===(t=e.formatter)||void 0===t?void 0:t.startsWith("Live"))||e.liveUpdates});return!!e},hasDelayedColumns(){const e=this.columns.find(e=>e.delayLoading);return!!e},columnFormmatterIDs(){const e={};return this.columns.forEach(t=>{t.formatter&&(e[t.formatter]=Object(c["b"])(t.formatter))}),e},displayRows(){const e=[],t=this.columnFormmatterIDs;return this.groupedRows.forEach(o=>{const a={grp:o,key:o.key,ref:o.ref,rows:[]};e.push(a),o.rows.forEach(e=>{const o={row:e,key:this.get(e,this.keyField),showSubRow:this.showSubRow(e,this.keyField),canRunBulkActionOfInterest:this.canRunBulkActionOfInterest(e),columns:[]};a.rows.push(o),this.columns.forEach(a=>{var i;const s=a.delayLoading?void 0:this.valueFor(e,a,a.isLabel);let n,r=s,l=!1;if(Array.isArray(s)&&(r=s.join(", ")),a.formatter)if(me[a.formatter])n=me[a.formatter],l=!0;else{var d;const e=null===(d=this.$plugin)||void 0===d?void 0:d.getDynamic("formatters",a.formatter);e&&(n=e,l=!0)}o.columns.push({col:a,value:s,formatted:r,component:n,needRef:l,delayed:a.delayLoading,live:(null===(i=a.formatter)||void 0===i?void 0:i.startsWith("Live"))||a.liveUpdates,label:this.labelFor(a),dasherize:t[a.formatter]||""})})})}),e}},methods:{refreshTableData(){this.$store.dispatch("resource-fetch/doManualRefresh")},get:u["g"],dasherize:c["b"],onScroll(){(this.hasLiveColumns||this.hasDelayedColumns)&&(clearTimeout(this._liveColumnsTimer),clearTimeout(this._scrollTimer),clearTimeout(this._delayedColumnsTimer),this._scrollTimer=setTimeout(()=>{this.updateLiveColumns(),this.updateDelayedColumns()},300))},watcherUpdateLiveAndDelayed(e,t){e!==t&&this.$nextTick(()=>this.updateLiveAndDelayed())},updateLiveAndDelayed(){this.hasLiveColumns&&this.updateLiveColumns(),this.hasDelayedColumns&&this.updateDelayedColumns()},updateDelayedColumns(){if(clearTimeout(this._delayedColumnsTimer),!this.$refs.column||0===this.pagedRows.length)return;const e=this.$refs.column.filter(e=>e.startDelayedLoading&&!e.__delayedLoading),t=(window.innerHeight||document.documentElement.clientHeight)+100;let o=0;for(let a=0;a<e.length;a++){const i=e[a],s=i.$el.getBoundingClientRect().y;if(s>=0&&s<=t&&(i.startDelayedLoading(!0),i.__delayedLoading=!0,o++,4===o))return void(this._delayedColumnsTimer=setTimeout(this.updateDelayedColumns,100))}},updateLiveColumns(){if(clearTimeout(this._liveColumnsTimer),!this.$refs.column||!this.hasLiveColumns||0===this.pagedRows.length)return;const e=window.innerHeight||document.documentElement.clientHeight,t=this.$refs.column.filter(e=>!!e.liveUpdate),o=r()();let a=Number.MAX_SAFE_INTEGER;for(let i=0;i<t.length;i++){const s=t[i],n=s.$el.getBoundingClientRect().y;if(n>=0&&n<=e){const e=s.liveUpdate(o);e<a&&(a=e)}}a<1&&(a=1),this._liveColumnsTimer=setTimeout(()=>this.updateLiveColumns(),1e3*a)},labelFor(e){return e.labelKey?this.t(e.labelKey,void 0,!0):e.label?e.label:Object(c["o"])(e.name)},valueFor(e,t,o){if("function"===typeof t.value)return t.value(e);var a,i,s;if(o)return null!==(a=e.metadata)&&void 0!==a&&a.labels&&null!==(i=e.metadata)&&void 0!==i&&i.labels[t.label]?null===(s=e.metadata)||void 0===s?void 0:s.labels[t.label]:"";const n=t.value||t.name;if(!n)return console.error("No path has been defined for this column, unable to get value of cell",t),"";const r=Object(u["g"])(e,n);return null===r||void 0===r?"":r},isExpanded(e){const t=e[this.keyField];return!!this.expanded[t]},toggleExpand(e){const t=e[this.keyField],o=!this.expanded[t];return this.expanded[t]=o,this.expanded={...this.expanded},o},setBulkActionOfInterest(e){this.actionOfInterest=e},canRunBulkActionOfInterest(e){var t;if(!this.actionOfInterest||d()(null===e||void 0===e?void 0:e.availableActions))return!1;const o=null===(t=e.availableActions)||void 0===t?void 0:t.find(e=>e.action===this.actionOfInterest.action);return null===o||void 0===o?void 0:o.enabled},focusSearch(){this.$refs.searchQuery&&(this.$refs.searchQuery.focus(),this.$refs.searchQuery.select())},nearestCheckbox(){var e;return null===(e=document.activeElement.closest("tr.main-row"))||void 0===e?void 0:e.querySelector(".checkbox-custom")},focusAdjacent(e=!0){const t=Array.from(this.$el.querySelectorAll(".checkbox-custom")),o=this.nearestCheckbox();let a=-1;return a=o?t.indexOf(o)+(e?1:-1):e?1:t.length-1,a<1?(a=1,null):a>=t.length?(a=t.length-1,null):t[a]?(t[a].focus(),t[a]):void 0},focusNext:C()((function(e,t=!1){const o=this.focusAdjacent(!0),a=O(o,"tr");null!==a&&void 0!==a&&a.classList.contains("row-selected")||this.keySelectRow(a,t)}),50),focusPrevious:C()((function(e,t=!1){const o=this.focusAdjacent(!1),a=O(o,"tr");null!==a&&void 0!==a&&a.classList.contains("row-selected")||this.keySelectRow(a,t)}),50),showSubRow(e,t){const o=this.subRows&&(!this.subExpandable||this.expanded[Object(u["g"])(e,t)]),a=this.subRowsDescription&&e.stateDescription;return o||a},handleActionButtonClick(e,t){this.$emit("clickedActionButton",{event:t,targetElement:this.$refs["actionButton"+e][0]})},paginationChanged(){this.externalPaginationEnabled&&this.$emit("pagination-changed",{page:this.page,perPage:this.perPage,filter:{searchFields:this.searchFields,searchQuery:this.searchQuery},sort:this.sortFields,descending:this.descending})}}},we=ye,xe=(o("67c3"),o("a97d"),Object(y["a"])(we,a,i,!1,null,"152d892c",null));t["a"]=xe.exports},1254:function(e,t,o){"use strict";o("e171")},"126f":function(e,t,o){"use strict";var a=function(){var e=this,t=e._self._c;return t("SortableTable",e._g(e._b({ref:"table",attrs:{headers:e._headers,rows:e.filteredRows,loading:e.loading,"alt-loading":e.altLoading,"group-by":e.computedGroupBy,group:e.group,"group-options":e.groupOptions,search:e.search,paging:!0,"paging-params":e.parsedPagingParams,"paging-label":e.pagingLabel,"row-actions":e.rowActions,"table-actions":e._showBulkActions,"overflow-x":e.overflowX,"overflow-y":e.overflowY,"get-custom-detail-link":e.getCustomDetailLink,"has-advanced-filtering":e.hasAdvancedFiltering,"adv-filter-hide-labels-as-cols":e.advFilterHideLabelsAsCols,"adv-filter-prevent-filtering-labels":e.advFilterPreventFilteringLabels,"key-field":e.keyField,"sort-generation-fn":e.safeSortGenerationFn,"use-query-params-for-simple-filtering":e.useQueryParamsForSimpleFiltering,"force-update-live-and-delayed":e.forceUpdateLiveAndDelayed,"external-pagination-enabled":e.externalPaginationEnabled,"external-pagination-result":e.externalPaginationResult,"mandatory-sort":e._mandatorySort},on:{clickedActionButton:e.handleActionButtonClick,"group-value-change":function(t){e.group=t}},scopedSlots:e._u([e.showGrouping?{key:"header-middle",fn:function(){return[e._t("more-header-middle"),t("ButtonGroup",{attrs:{options:e.groupOptions},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}})]},proxy:!0}:null,e.showGrouping?{key:"header-right",fn:function(){return[e._t("header-right")]},proxy:!0}:null,{key:"group-by",fn:function({group:e}){return[t("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.ref,expression:"thisGroup.ref"}],staticClass:"group-tab"})]}},e._l(e.$scopedSlots,(function(t,o){return{key:o,fn:function(t){return[e._t(o,null,null,t)]}}})),{key:"shortkeys",fn:function(){return[t("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["e"],expression:"['e']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:function(t){return e.keyAction("edit")}}}),t("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["y"],expression:"['y']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:function(t){return e.keyAction("yaml")}}}),e._showBulkActions?t("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["del"],expression:"['del']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:function(t){return e.keyAction("remove")}}}):e._e(),e._showBulkActions?t("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["backspace"],expression:"['backspace']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:function(t){return e.keyAction("remove")}}}):e._e()]},proxy:!0}],null,!0)},"SortableTable",e.$attrs,!1),e.$listeners))},i=[],s=o("9ce4"),n=o("e24b"),r=o("5000"),l=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],staticClass:"btn-group"},e._l(e.optionObjects,(function(o,a){return t("button",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:o.tooltipKey?e.t(o.tooltipKey):o.tooltip,expression:"opt.tooltipKey ? t(opt.tooltipKey) : opt.tooltip"}],key:a,class:o.class,attrs:{"data-testid":"button-group-child-"+a,type:"button",disabled:e.disabled||o.disabled},on:{click:function(t){return e.change(o.value)}}},[e._t("option",(function(){return[o.icon?t("i",{class:{icon:!0,[o.icon]:!0,["icon-"+e.iconSize]:!!e.iconSize}}):e._e(),o.labelKey?t("t",{attrs:{k:o.labelKey}}):o.label?t("span",[e._v(e._s(o.label))]):e._e()]}),{label:o.label,value:o.value})],2)})),0)},d=[],c={props:{value:{type:[String,Number,Boolean,Object],required:!0},inactiveClass:{type:String,default:"bg-disabled"},activeClass:{type:String,default:"bg-primary"},options:{type:Array,required:!0},iconSize:{type:String,default:null},disabled:{type:Boolean,default:!1}},computed:{optionObjects(){const e=this.value;return this.options.map(t=>{let o;o=t&&"object"===typeof t&&"undefined"!==typeof t.value?Object.assign({},t):{label:t,value:t};const a=e===o.value;return o.class={btn:!0,[this.inactiveClass]:!a,[this.activeClass]:a},o})}},methods:{change(e){this.$emit("input",e)}}},u=c,p=o("d802"),h=Object(p["a"])(u,l,d,!1,null,null,null),b=h.exports,g=o("0fb1"),v=o("462f"),f=o("bddd"),m=o("7083"),y=o("1722");const w="namespace",x=(e,t)=>{var o,a;if(!e)return null;const i=e.id;let s=i;const n=t.getters["currentStore"](i),r=null===(o=(a=t.getters)[n+"/currentGeneration"])||void 0===o?void 0:o.call(a,i);r&&(s+="/"+r);const l=t.getters["activeNamespaceCacheKey"];return l?`${s}/${l}`:s};var k={name:"ResourceTable",components:{ButtonGroup:b,SortableTable:g["a"]},props:{schema:{type:Object,default:null},rows:{type:Array,required:!0},loading:{type:Boolean,required:!1},altLoading:{type:Boolean,required:!1},keyField:{type:String,default:"_key"},headers:{type:Array,default:null},groupBy:{type:String,default:null},namespaced:{type:Boolean,default:null},search:{type:Boolean,default:!0},tableActions:{type:[Boolean,null],default:null},pagingLabel:{type:String,default:"sortableTable.paging.resource"},pagingParams:{type:Object,default:null},rowActions:{type:Boolean,default:!0},groupable:{type:Boolean,default:null},groupTooltip:{type:String,default:"resourceTable.groupBy.namespace"},overflowX:{type:Boolean,default:!1},overflowY:{type:Boolean,default:!1},sortGenerationFn:{type:Function,default:null},getCustomDetailLink:{type:Function,default:null},ignoreFilter:{type:Boolean,default:!1},hasAdvancedFiltering:{type:Boolean,default:!1},advFilterHideLabelsAsCols:{type:Boolean,default:!1},advFilterPreventFilteringLabels:{type:Boolean,default:!1},useQueryParamsForSimpleFiltering:{type:Boolean,default:!1},forceUpdateLiveAndDelayed:{type:Number,default:0},externalPaginationEnabled:{type:Boolean,default:!1},externalPaginationResult:{type:Object,default:null}},mounted(){window.addEventListener("keyup",this.handleEnterKeyPress)},beforeDestroy(){window.removeEventListener("keyup",this.handleEnterKeyPress)},data(){var e;const t=null!==(e=this.schema)&&void 0!==e&&e.id?this.$store.getters["currentStore"](this.schema.id):void 0;return{inStore:t}},computed:{options(){return this.$store.getters["type-map/optionsFor"](this.schema,this.externalPaginationEnabled)},_listGroupMapped(){var e;return null===(e=this.options)||void 0===e||null===(e=e.listGroups)||void 0===e?void 0:e.reduce((e,t)=>(e[t.value]=t,e),{})},_mandatorySort(){var e;return null===(e=this.options)||void 0===e?void 0:e.listMandatorySort},...Object(s["b"])(["currentProduct"]),isNamespaced(){return null!==this.namespaced?this.namespaced:!!Object(n["g"])(this.schema,"attributes.namespaced")},showNamespaceColumn(){const e="namespace"===this.group,t=!this.showGrouping||!e;return t},_showBulkActions(){if(null!==this.tableActions)return this.tableActions;if(this.schema){const e=this.$store.getters["type-map/hideBulkActionsFor"](this.schema);return!e}return!1},_headers(){var e,t;let o;const a=this.showNamespaceColumn;if(o=this.headers?this.headers.slice():this.$store.getters["type-map/headersFor"](this.schema,this.externalPaginationEnabled),null!==(e=this.$store.$plugin)&&void 0!==e&&e.getUIConfig){const e=Object(y["a"])(this,m["c"].TABLE_COL,m["e"].RESOURCE,this.$route);let t=o.length;if(o.length>0){const e=o.findIndex(e=>e.name===v["b"].name);if(e>=0)t=e;else{const e=o.findIndex(e=>{var t,o;return(!e.label||!(null!==(t=e.label)&&void 0!==t&&t.trim()))&&(!e.labelKey||!(null!==(o=e.labelKey)&&void 0!==o&&o.trim()))});e>=0&&(t=e)}}e.forEach(e=>{!e.value&&e.getValue&&(e.value=e.getValue),o.splice(t,0,e)})}if(!a){const e=o.findIndex(e=>e.name===v["w"].name);e>=0&&o.splice(e,1)}const i=null===(t=this._listGroupMapped)||void 0===t?void 0:t[this.group];if(null!==i&&void 0!==i&&i.hideColumn){const e=o.findIndex(e=>e.name===i.hideColumn);e>=0&&o.splice(e,1)}return o},filteredRows(){var e,t;const o=this.$store.getters["isAllNamespaces"];if(!this.isNamespaced||this.ignoreFilter||this.externalPaginationEnabled||o&&(null===(e=this.currentProduct)||void 0===e||!e.hideSystemResources)||this.inStore&&(null===(t=this.$store.getters[this.inStore+"/haveNamespace"](this.schema.id))||void 0===t?void 0:t.length))return this.rows||[];const a=this.$store.getters["namespaces"]();if(!this.rows)return[];const i=this.$store.getters["haveAllNamespace"];return this.rows.filter(e=>{var t;return null!==(t=this.currentProduct)&&void 0!==t&&t.hideSystemResources&&this.isNamespaced?!!a[e.metadata.namespace]&&!e.isSystemResource:!this.isNamespaced||(!!i||!!a[e.metadata.namespace])})},_group:Object(r["i"])(r["d"]),group:{get(){const e=this.groupOptions.find(e=>e.value===this._group);var t;return e?this._group:this.groupOptions.find(e=>e.value===w)?w:(null===(t=this.groupOptions[0])||void 0===t?void 0:t.value)||w},set(e){this._group=e}},showGrouping(){if(null===this.groupable){var e;const t=this.$store.getters["isMultipleNamespaces"]&&this.isNamespaced,o=!(null===(e=this.options)||void 0===e||null===(e=e.listGroups)||void 0===e||!e.length);return t||o}return this.groupable||!1},computedGroupBy(){var e;if(this.groupBy)return this.groupBy;if("namespace"===this.group&&this.showGrouping)return"groupByLabel";const t=null===(e=this._listGroupMapped)||void 0===e?void 0:e[this.group];return null!==t&&void 0!==t&&t.field?t.field:null},groupOptions(){var e,t,o,a;if(null!==(e=this.options)&&void 0!==e&&e.listGroupsWillOverride&&null!==(t=this.options)&&void 0!==t&&null!==(t=t.listGroups)&&void 0!==t&&t.length)return null===(a=this.options)||void 0===a?void 0:a.listGroups;const i=[{tooltipKey:"resourceTable.groupBy.none",icon:"icon-list-flat",value:"none"},{tooltipKey:this.groupTooltip,icon:"icon-folder",value:"namespace"}];return null!==(o=this.options)&&void 0!==o&&null!==(o=o.listGroups)&&void 0!==o&&o.length?i.concat(this.options.listGroups):i},parsedPagingParams(){return this.pagingParams?this.pagingParams:this.schema?{singularLabel:this.$store.getters["type-map/labelFor"](this.schema),pluralLabel:this.$store.getters["type-map/labelFor"](this.schema,99)}:{singularLabel:"",pluralLabel:""}}},methods:{keyAction(e){const t=this.$refs.table;if(!t)return;const o=t.selectedRows;if("remove"!==e){if(1===o.length)switch(e){case"detail":o[0].goToDetail();break;case"edit":o[0].goToEdit();break;case"yaml":o[0].goToViewYaml();break}}else{const e=Object(f["e"])(t.availableActions,"action","promptRemove");e&&(t.setBulkActionOfInterest(e),t.applyTableAction(e))}},clearSelection(){this.$refs.table.clearSelection()},safeSortGenerationFn(){return this.sortGenerationFn?this.sortGenerationFn(this.schema,this.$store):x(this.schema,this.$store)},handleActionButtonClick(e){this.$emit("clickedActionButton",e)},handleEnterKeyPress(e){"Enter"===e.key&&this.keyAction("detail")}}},C=k,_=Object(p["a"])(C,a,i,!1,null,null,null);t["a"]=_.exports},"18ae":function(e,t,o){"use strict";o("0c0f")},"1aab":function(e,t,o){"use strict";o("a278")},"20d9":function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".sortable-table.alt-loading[data-v-152d892c]{opacity:.5;pointer-events:none}.manual-refresh[data-v-152d892c]{height:40px}.advanced-filter-group[data-v-152d892c]{position:relative;margin-left:10px}.advanced-filter-group .advanced-filter-container[data-v-152d892c]{position:absolute;top:38px;right:0;width:300px;border:1px solid var(--primary);background-color:var(--body-bg);padding:20px;z-index:2}.advanced-filter-group .advanced-filter-container .middle-block[data-v-152d892c]{display:flex;align-items:center;margin-top:20px}.advanced-filter-group .advanced-filter-container .middle-block span[data-v-152d892c]{margin-right:20px}.advanced-filter-group .advanced-filter-container .middle-block button[data-v-152d892c]{margin-left:20px}.advanced-filter-group .advanced-filter-container .bottom-block[data-v-152d892c]{display:flex;align-items:center;margin-top:40px;justify-content:space-between}.advanced-filters-applied[data-v-152d892c]{display:inline-flex;margin:0;padding:0;list-style:none;max-width:100%;flex-wrap:wrap;justify-content:flex-end}.advanced-filters-applied li[data-v-152d892c]{margin:0 20px 10px 0;padding:2px 5px;border:1px solid;display:flex;align-items:center;position:relative;height:20px}.advanced-filters-applied li[data-v-152d892c]:nth-child(4n+1){border-color:var(--success)}.advanced-filters-applied li:nth-child(4n+1) .bg[data-v-152d892c]{background-color:var(--success)}.advanced-filters-applied li[data-v-152d892c]:nth-child(4n+2){border-color:var(--warning)}.advanced-filters-applied li:nth-child(4n+2) .bg[data-v-152d892c]{background-color:var(--warning)}.advanced-filters-applied li[data-v-152d892c]:nth-child(4n+3){border-color:var(--info)}.advanced-filters-applied li:nth-child(4n+3) .bg[data-v-152d892c]{background-color:var(--info)}.advanced-filters-applied li[data-v-152d892c]:nth-child(4n+4){border-color:var(--error)}.advanced-filters-applied li:nth-child(4n+4) .bg[data-v-152d892c]{background-color:var(--error)}.advanced-filters-applied li .bg[data-v-152d892c]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.2;z-index:-1}.advanced-filters-applied li .label[data-v-152d892c]{margin-right:10px;font-size:11px}.advanced-filters-applied li .cross[data-v-152d892c]{font-size:12px;font-weight:700;cursor:pointer}td .actions.role-multi-action[data-v-152d892c]{background-color:transparent;border:none}td .actions.role-multi-action[data-v-152d892c]:focus,td .actions.role-multi-action[data-v-152d892c]:hover{background-color:var(--accent-btn);box-shadow:none}@media only screen and (max-width:480px){td.desktop[data-v-152d892c],td.laptop[data-v-152d892c],td.tablet[data-v-152d892c]{display:none}}@media only screen and (max-width:992px){td.desktop[data-v-152d892c],td.laptop[data-v-152d892c]{display:none}}@media only screen and (max-width:1281px){td.desktop[data-v-152d892c]{display:none}}tr td div.data-loading[data-v-152d892c]{align-items:center;display:flex;justify-content:center;padding:20px 0}tr td div.data-loading>i[data-v-152d892c]{font-size:20px;height:20px;margin-right:5px;width:20px}.search-box[data-v-152d892c]{height:40px;margin-left:10px;min-width:180px}",""]),e.exports=t},"24cc":function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".actions[data-v-3eef3a84]{text-align:right}.machine-name[data-v-3eef3a84]{font-weight:600}",""]),e.exports=t},2619:function(e,t,o){var a=o("8e14");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("5e08bb6a",a,!0,{sourceMap:!1,shadowMode:!1})},"2ca2":function(e,t,o){var a=o("e519");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("dbc5f9e2",a,!0,{sourceMap:!1,shadowMode:!1})},3973:function(e,t,o){"use strict";o("4914")},4914:function(e,t,o){var a=o("8683");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("462656a4",a,!0,{sourceMap:!1,shadowMode:!1})},"4a7c":function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".table-options-checkbox .checkbox-custom{min-width:14px}.table-options-checkbox .checkbox-label{color:var(--body-text)}",""]),e.exports=t},"4b91":function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".delete-warning[data-v-3a26ac99]{color:var(--error)}.remove-project-dialog[data-v-3a26ac99]{border:1px solid var(--border);padding:10px;border-radius:5px}.remove-project-dialog .display-name[data-v-3a26ac99]{font-weight:700}",""]),e.exports=t},"4c66":function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".sortable-table TD .badge-state{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;word-wrap:break-word;display:inline-block;max-width:100%;position:relative;max-width:110px;font-size:.85em;vertical-align:middle}",""]),e.exports=t},5156:function(e,t,o){"use strict";o("8842")},"51be":function(e,t,o){var a=o("9c21");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("508b97de",a,!0,{sourceMap:!1,shadowMode:!1})},"55e2":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("div",{staticClass:"mb-10"},[e._v(" "+e._s(e.t("promptRemove.attemptingToRemove",{type:e.type}))+" "),t("span",{staticClass:"display-name"},[e._v(e._s(e.displayName+"."))]),e.canSeeProjectlessNamespaces?e._e():[t("span",{staticClass:"delete-warning"},[e._v(" "+e._s(e.t("promptRemove.willDeleteAssociatedNamespaces")))]),e._v(" "),t("br"),t("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.resourceNames(e.names,e.plusMore,e.t),expression:"resourceNames(names, plusMore, t)"}],staticClass:"mt-10"})]],2),e.filteredNamespaces.length>0&&e.canSeeProjectlessNamespaces?t("div",{staticClass:"mt-20 remove-project-dialog"},[t("Checkbox",{attrs:{label:e.t("promptRemove.deleteAssociatedNamespaces")},model:{value:e.deleteProjectNamespaces,callback:function(t){e.deleteProjectNamespaces=t},expression:"deleteProjectNamespaces"}}),t("div",{staticClass:"mt-10 ml-20"},[t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.resourceNames(e.names,e.plusMore,e.t),expression:"resourceNames(names, plusMore, t)"}]})])],1):e._e()])])},i=[],s=o("9ce4"),n=o("4ac6"),r=o("907c"),l=o("0df0"),d=o("2cb5"),c={name:"ProjectAndNamespacesPromptRemove",components:{Checkbox:l["a"]},props:{value:{type:Array,default:()=>[]},type:{type:String,required:!0}},async fetch(){this.allNamespaces=await this.$store.dispatch("cluster/findAll",{type:r["l"]}),this.allProjects=await this.$store.dispatch("management/findAll",{type:r["j"].PROJECT})},data(){return{deleteProjectNamespaces:!1,allNamespaces:[],allProjects:[]}},computed:{...Object(s["c"])("action-menu",["toRemove"]),...Object(s["b"])({t:"i18n/t"}),...Object(s["b"])(["currentCluster"]),currentProject(){return this.allProjects?this.value[0]:{}},filteredNamespaces(){return this.currentProject?this.allNamespaces.filter(e=>{var t;return e.metadata.labels[n["h"]]===(null===(t=this.currentProject.metadata)||void 0===t?void 0:t.name)}):[]},plusMore(){const e=this.filteredNamespaces.length>5?this.filteredNamespaces.length-5:0;return this.t("promptRemove.andOthers",{count:e})},displayName(){var e;return null===(e=this.currentProject)||void 0===e||null===(e=e.spec)||void 0===e?void 0:e.displayName},names(){return this.filteredNamespaces.map(e=>e.nameDisplay).slice(0,5)},canSeeProjectlessNamespaces(){return this.currentCluster.canUpdate}},methods:{resourceNames:d["l"],remove(){return!(!this.deleteProjectNamespaces&&this.canSeeProjectlessNamespaces)&&Promise.all(this.filteredNamespaces.map(e=>e.remove())).then(()=>!1)}}},u=c,p=(o("dd58"),o("d802")),h=Object(p["a"])(u,a,i,!1,null,"3a26ac99",null);t["default"]=h.exports},5801:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-10"},[t("div",{staticClass:"mb-30"},[e._v(" "+e._s(e.t("promptRemove.attemptingToRemove",{type:e.type}))+" "),t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.podNames,expression:"podNames"}],staticClass:"machine-name"})]),t("div",{staticClass:"mb-30"},[t("Checkbox",{attrs:{label:e.t("promptForceRemove.forceDelete")},model:{value:e.forceDelete,callback:function(t){e.forceDelete=t},expression:"forceDelete"}})],1),t("Banner",{attrs:{color:"warning","label-key":"promptForceRemove.podRemoveWarning"}}),e._l(e.errors,(function(e,o){return t("Banner",{key:o,attrs:{color:"error",label:e}})}))],2)},i=[],s=o("6418"),n=o("1032"),r=o("9ce4"),l=o("9ec3"),d={name:"PromptRemovePodDialog",components:{Banner:s["a"],Checkbox:n["a"]},props:{value:{type:Array,default:()=>[]},names:{type:Array,default:()=>[]},type:{type:String,required:!0},close:{type:Function,required:!0},doneLocation:{type:Object,default:()=>{}}},data(){return{errors:[],forceDelete:!1}},computed:{...Object(r["c"])("action-menu",["toRemove"]),...Object(r["b"])({t:"i18n/t"}),plusMore(){const e=this.names.length-this.names.length;return this.t("promptRemove.andOthers",{count:e})},podNames(){return this.names.reduce((e,t,o)=>(o>=5||(e+=`<b>${t}</b>`,o===this.names.length-1?e+=this.plusMore:e+=o===this.toRemove.length-2?" and ":", "),e),"")}},methods:{async remove(e){let t;this.doneLocation&&(t={...this.doneLocation});try{var o;if(await Promise.all(this.value.map(e=>this.removePod(e))),t&&!Object(l["isEmpty"])(t))null===(o=this.value)||void 0===o||null===(o=o[0])||void 0===o||o.currentRouter().push(t);this.close()}catch(a){this.$emit("errors",a),e(!1)}},removePod(e){const t=this.forceDelete?{data:{gracePeriod:0,force:!0}}:void 0;return e.remove(t)}}},c=d,u=(o("1254"),o("d802")),p=Object(u["a"])(c,a,i,!1,null,"3eef3a84",null);t["default"]=p.exports},6358:function(e,t,o){var a=o("20d9");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("756f22e0",a,!0,{sourceMap:!1,shadowMode:!1})},6423:function(e,t,o){"use strict";o("2ca2")},"67c3":function(e,t,o){"use strict";o("6358")},"6ac2":function(e,t,o){var a=o("4b91");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("487b9a44",a,!0,{sourceMap:!1,shadowMode:!1})},"78bc":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[[e._v(" "+e._s(e.t("promptRemove.attemptingToRemove",{type:e.type}))+" "),t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.resourceNames(e.names,e.plusMore,e.t),expression:"resourceNames(names, plusMore, t)"}]})],e.info?t("div",{staticClass:"text info mb-10 mt-20"},[t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.info,expression:"info"}]})]):e._e(),e.warning?t("div",{staticClass:"text-warning mb-10 mt-20"},[e._v(" "+e._s(e.warning)+" ")]):e._e()],2)},i=[],s=o("060c"),n={name:"GlobalRolePromptRemove",mixins:[s["default"]],props:{value:{type:Array,default:()=>[]},type:{type:String,required:!0}}},r=n,l=(o("3973"),o("d802")),d=Object(l["a"])(r,a,i,!1,null,"effd72b0",null);t["default"]=d.exports},"78e0":function(e,t,o){"use strict";o("51be")},8683:function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".text.info[data-v-effd72b0]{display:flex;align-items:center}.text.info>span[data-v-effd72b0]{margin-right:5px}",""]),e.exports=t},"86a1":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[[e._v(" "+e._s(e.t("promptRemove.attemptingToRemove",{type:e.type}))+" "),t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.resourceNames(e.names,e.plusMore,e.t),expression:"resourceNames(names, plusMore, t)"}]})],e.info?t("div",{staticClass:"text info mb-10 mt-20"},[t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.info,expression:"info"}]})]):e._e(),e.warning?t("div",{staticClass:"text-warning mb-10 mt-20"},[e._v(" "+e._s(e.warning)+" ")]):e._e()],2)},i=[],s=o("060c"),n={name:"RoleTemplatePromptRemove",mixins:[s["default"]],props:{value:{type:Array,default:()=>[]},type:{type:String,required:!0}}},r=n,l=(o("18ae"),o("d802")),d=Object(l["a"])(r,a,i,!1,null,"5050d908",null);t["default"]=d.exports},"86eb":function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".text.info[data-v-5050d908]{display:flex;align-items:center}.text.info>span[data-v-5050d908]{margin-right:5px}",""]),e.exports=t},8842:function(e,t,o){var a=o("4c66");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("6fad7948",a,!0,{sourceMap:!1,shadowMode:!1})},"8e14":function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,'.filter-select .vs__selected-options .vs__selected{text-align:left}.sortable-table{border-collapse:collapse;min-width:400px;border-radius:5px 5px 0 0;outline:1px solid var(--border);overflow:hidden;background:var(--sortable-table-bg);border-radius:4px}.sortable-table.overflow-x{overflow-x:visible}.sortable-table.overflow-y{overflow-y:visible}.sortable-table td{padding:8px 5px;border:0}.sortable-table td:first-child{padding-left:10px}.sortable-table td:last-child{padding-right:10px}.sortable-table td.row-check{padding-top:12px}.sortable-table tbody tr{border-bottom:1px solid var(--sortable-table-top-divider);background-color:var(--sortable-table-row-bg)}.sortable-table tbody tr.main-row.has-sub-row{border-bottom:0}.sortable-table tbody tr.main-row:not(.row-selected):hover+.sub-row{background-color:var(--sortable-table-hover-bg)}.sortable-table tbody tr:last-of-type{border-bottom:0}.sortable-table tbody tr.sub-row-hovered,.sortable-table tbody tr:hover{background-color:var(--sortable-table-hover-bg)}.sortable-table tbody tr.state-description>td{font-size:13px;padding-top:0;overflow-wrap:anywhere}.sortable-table tbody tr.active-row{color:var(--sortable-table-header-bg)}.sortable-table tbody tr.row-selected{background:var(--sortable-table-selected-bg)}.sortable-table tbody .no-rows td{padding:30px 0;text-align:center}.sortable-table tbody .no-results:hover,.sortable-table tbody .no-rows:hover{background-color:var(--body-bg)}.sortable-table tbody.group:before{content:"";display:block;height:20px;background-color:transparent}.sortable-table tbody tr.group-row{background-color:initial}.sortable-table tbody tr.group-row:first-child{border-bottom:2px solid var(--sortable-table-row-bg)}.sortable-table tbody tr.group-row:not(:first-child){margin-top:20px}.sortable-table tbody tr.group-row td{padding:0}.sortable-table tbody tr.group-row td:first-of-type{border-left:1px solid var(--sortable-table-accent-bg)}.sortable-table tbody tr.group-row .group-tab{height:40px;line-height:40px;padding:0 10px;border-radius:4px 4px 0 0;background-color:var(--sortable-table-row-bg);position:relative;top:1px;display:inline-block;z-index:10;min-width:72px}.sortable-table tbody tr.group-row .group-tab:after,.sortable-table tbody tr.group-row .group-tab:before{content:" ";display:table}.sortable-table tbody tr.group-row .group-tab:after{clear:both}.sortable-table tbody tr.group-row .group-tab>SPAN{color:var(--sortable-table-group-label)}.sortable-table tbody tr.group-row .group-tab:after{height:40px;width:70px;border-radius:5px 5px 0 0;background-color:var(--sortable-table-row-bg);content:"";position:absolute;right:-15px;top:0;transform:skewX(40deg);z-index:-1}.for-inputs TABLE.sortable-table{width:100%;border-collapse:collapse;margin-bottom:10px}.for-inputs TABLE.sortable-table>TBODY>TR>TD,.for-inputs TABLE.sortable-table>THEAD>TR>TH{padding-right:10px;padding-bottom:10px}.for-inputs TABLE.sortable-table>TBODY>TR>TD:last-of-type,.for-inputs TABLE.sortable-table>THEAD>TR>TH:last-of-type{padding-right:0}.for-inputs TABLE.sortable-table>TBODY>TR:first-of-type>TD{padding-top:10px}.for-inputs TABLE.sortable-table>TBODY>TR:last-of-type>TD{padding-bottom:0}.for-inputs.clone TABLE.sortable-table>THEAD>TR>TH,.for-inputs.create TABLE.sortable-table>THEAD>TR>TH,.for-inputs.edit TABLE.sortable-table>THEAD>TR>TH{border-color:transparent}.sortable-table-header{position:relative;z-index:11}.sortable-table-header.titled{display:flex;align-items:center}.fixed-header-actions.button{grid-template-columns:[bulk] auto [middle] min-content [search] minmax(min-content,350px)}.fixed-header-actions{padding:0 0 20px 0;width:100%;z-index:11;background:transparent;display:grid;grid-template-columns:[bulk] auto [middle] min-content [search] minmax(min-content,200px);grid-column-gap:10px}.fixed-header-actions.advanced-filtering{grid-template-columns:[bulk] auto [middle] minmax(min-content,auto) [search] minmax(min-content,auto)}.fixed-header-actions .bulk{grid-area:bulk}.fixed-header-actions .bulk>BUTTON{display:none}.fixed-header-actions .bulk>BUTTON:not(:last-of-type){margin-right:10px}.fixed-header-actions .bulk .action-availability{display:none;margin-left:10px;vertical-align:middle;margin-top:2px}.fixed-header-actions .bulk .dropdown-button li.disabled{color:var(--disabled-text);cursor:not-allowed}.fixed-header-actions .bulk .dropdown-button li.disabled:hover{color:var(--disabled-text);background-color:unset;cursor:not-allowed}.fixed-header-actions .bulk .bulk-action .icon{vertical-align:-10%}.fixed-header-actions .middle{grid-area:middle;white-space:nowrap}.fixed-header-actions .middle .icon.icon-backup.animate{animation-name:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.fixed-header-actions .search{grid-area:search;text-align:right;justify-content:flex-end}.fixed-header-actions .bulk-actions-dropdown{display:none}.fixed-header-actions .bulk-actions-dropdown .dropdown-button{background-color:var(--primary)}.fixed-header-actions .bulk-actions-dropdown .dropdown-button:hover{background-color:var(--primary-hover-bg);color:var(--primary-hover-text)}.fixed-header-actions .bulk-actions-dropdown .dropdown-button .icon-chevron-down,.fixed-header-actions .bulk-actions-dropdown .dropdown-button>*{color:var(--primary-text)}.fixed-header-actions .bulk-actions-dropdown .dropdown-button .button-divider{border-color:var(--primary-text)}.fixed-header-actions .bulk-actions-dropdown .dropdown-button.disabled{border-color:var(--disabled-bg)}.fixed-header-actions .bulk-actions-dropdown .dropdown-button.disabled .icon-chevron-down{color:var(--disabled-text)!important}.fixed-header-actions .bulk-actions-dropdown .dropdown-button.disabled .button-divider{border-color:var(--disabled-text)}.paging{margin-top:10px;text-align:center}.paging SPAN{display:inline-block;min-width:200px}',""]),e.exports=t},"9c21":function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".dropdown-button-group .no-left-border-radius{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-button-group .no-right-border-radius{border-top-right-radius:0;border-bottom-right-radius:0}.dropdown-button-group .btn{line-height:normal;border:0}.dropdown-button-group .btn-group-xs>.btn,.dropdown-button-group .btn-xs,.dropdown-button-group .btn-xs .btn-label{padding:2px 3px;font-size:13px}.dropdown-button-group .v-popover .text-right{margin-top:5px}.dropdown-button-group .v-popover .trigger{height:100%}.dropdown-button-group .v-popover .trigger .icon-container{height:100%;padding:10px 10px 10px 10px}.dropdown-button-group .v-popover .trigger .icon-container i{transform:scale(1)}.dropdown-button-group .v-popover .trigger .icon-container.btn-xs{padding:2px 4px 4px 4px}.dropdown-button-group .v-popover .trigger .icon-container.btn-sm{padding:10px 10px 10px 10px}.dropdown-button-group .v-popover .trigger .icon-container.btn-lg{padding:18px 10px 10px 10px}.dropdown-button-group .v-popover .trigger .icon-container:focus{outline-style:none;box-shadow:none;border-color:transparent}.dropdown-button-group .dropdown-button{background:var(--tooltip-bg);color:var(--link-text);padding:0;display:inline-flex}.dropdown-button-group .dropdown-button .wrapper-content button{border-right:0}.dropdown-button-group .dropdown-button .icon-chevron-down,.dropdown-button-group .dropdown-button>*{color:var(--primary);background-color:transparent}.dropdown-button-group .dropdown-button.bg-primary:hover{background:var(--accent-btn-hover)}.dropdown-button-group .dropdown-button.one-action{position:relative}.dropdown-button-group .dropdown-button.one-action>.btn{padding:15px 35px 15px 15px}.dropdown-button-group .dropdown-button.one-action .v-popover .trigger{position:absolute;top:0;right:0;left:0;bottom:0}.dropdown-button-group .dropdown-button.one-action .v-popover .trigger BUTTON{position:absolute;right:0}.dropdown-button-group .popover{border:none}.dropdown-button-group .tooltip{margin-top:0}.dropdown-button-group .tooltip[x-placement^=bottom] .tooltip-arrow{border-bottom-color:var(--dropdown-border)}.dropdown-button-group .tooltip[x-placement^=bottom] .tooltip-arrow:after{border-bottom-color:var(--dropdown-bg)}.dropdown-button-group .tooltip .tooltip-inner{color:var(--dropdown-text);background-color:var(--dropdown-bg);border:1px solid var(--dropdown-border);padding:0;text-align:left}.dropdown-button-group .tooltip .tooltip-inner LI{padding:10px}.dropdown-button-group .tooltip .tooltip-inner LI.divider{padding-top:0;padding-bottom:0}.dropdown-button-group .tooltip .tooltip-inner LI.divider>.divider-inner{padding:0;border-bottom:1px solid var(--dropdown-divider);width:125%;margin:0 auto}.dropdown-button-group .tooltip .tooltip-inner LI:not(.divider):hover{background-color:var(--dropdown-hover-bg);color:var(--dropdown-hover-text);cursor:pointer}.dropdown-button-group .user-info{border-bottom:1px solid var(--border);display:block}",""]),e.exports=t},a278:function(e,t,o){var a=o("a903");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("3883e33e",a,!0,{sourceMap:!1,shadowMode:!1})},a903:function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".badge-state[data-v-03599dd8]{align-items:center;display:inline-flex;padding:2px 10px;border:1px solid transparent;border-radius:20px}.badge-state.bg-info[data-v-03599dd8]{border-color:var(--primary)}.badge-state.bg-error[data-v-03599dd8]{border-color:var(--error)}.badge-state.bg-warning[data-v-03599dd8]{border-color:var(--warning)}.badge-state.bg-success[data-v-03599dd8]{color:var(--success);background:transparent;border-color:var(--success)}",""]),e.exports=t},a97d:function(e,t,o){"use strict";o("2619")},b4ab:function(e,t,o){"use strict";o("ce08")},c422:function(e,t,o){"use strict";var a=function(){var e=this,t=e._self._c;return t("Tabbed",e._b({attrs:{"default-tab":e.defaultTab},on:{changed:e.tabChange}},"Tabbed",e.$attrs,!1),[e._t("default"),e.showConditions?t("Tab",{attrs:{"label-key":"resourceTabs.conditions.tab",name:"conditions",weight:-1,"display-alert-icon":e.conditionsHaveIssues}},[t("Conditions",{attrs:{value:e.value}})],1):e._e(),e.showEvents?t("Tab",{attrs:{"label-key":"resourceTabs.events.tab",name:"events",weight:-2}},["events"===e.selectedTab?t("SortableTable",{attrs:{rows:e.events,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,"default-sort-by":"date"}}):e._e()],1):e._e(),e.showRelated?t("Tab",{attrs:{name:"related","label-key":"resourceTabs.related.tab",weight:-3}},[t("h3",{directives:[{name:"t",rawName:"v-t",value:"resourceTabs.related.from",expression:"'resourceTabs.related.from'"}]}),t("RelatedResources",{attrs:{"ignore-types":[e.value.type],value:e.value,direction:"from"}}),t("h3",{directives:[{name:"t",rawName:"v-t",value:"resourceTabs.related.to",expression:"'resourceTabs.related.to'"}],staticClass:"mt-20"}),t("RelatedResources",{attrs:{"ignore-types":[e.value.type],value:e.value,direction:"to"}})],1):e._e(),e._l(e.extensionTabs,(function(o,a){return t("Tab",{key:`${o.name}${a}`,attrs:{name:o.name,label:o.label,"label-key":o.labelKey,weight:o.weight,tooltip:o.tooltip,"show-header":o.showHeader,"display-alert-icon":o.displayAlertIcon,error:o.error,badge:o.badge}},[t(o.component,{tag:"component",attrs:{resource:e.value}})],1)}))],2)},i=[],s=o("0cb2"),n=o("38de"),r=o("305c"),l=function(){var e=this,t=e._self._c;return t("SortableTable",{attrs:{headers:e.headers,rows:e.rows,"key-field":"condition","default-sort-by":"condition","table-actions":!1,"row-actions":!1,search:!1},scopedSlots:e._u([{key:"cell:condition",fn:function({row:o}){return[t("span",{class:{"text-error":o.error}},[e._v(e._s(o.condition))])]}},{key:"cell:status",fn:function({row:o}){return[t("span",{class:{"text-error":o.error}},[e._v(e._s(o.status))])]}}])})},d=[],c=o("0fb1"),u={components:{SortableTable:c["a"]},props:{value:{type:Object,default:()=>({})}},computed:{headers(){return[{name:"condition",labelKey:"tableHeaders.condition",value:"condition",width:150,sort:"condition",dashIfEmpty:!0},{name:"status",labelKey:"tableHeaders.status",value:"status",width:75,sort:"status",dashIfEmpty:!0},{name:"time",labelKey:"tableHeaders.updated",value:"time",sort:"time",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125,dashIfEmpty:!0},{name:"message",labelKey:"tableHeaders.message",value:"message",sort:["message"],dashIfEmpty:!0}]},rows(){var e;return((null===(e=this.value.status)||void 0===e?void 0:e.conditions)||[]).map(e=>{let t=e.message||"";return e.reason&&(t=`[${e.reason}] ${t}`.trim()),{condition:e.type||"Unknown",status:e.status||"Unknown",error:e.error,time:e.lastProbeTime||e.lastUpdateTime||e.lastTransitionTime,message:t}})}}},p=u,h=o("d802"),b=Object(h["a"])(p,l,d,!1,null,null,null),g=b.exports,v=o("907c"),f=o("da25"),m=function(){var e=this,t=e._self._c;return t("ResourceTable",{attrs:{schema:null,rows:e.rows,headers:e.headers,search:!1,"table-actions":!1,namespaced:!0,"mangle-action-resources":e.getRealResources,"paging-label":"sortableTable.paging.generic",groupable:!1},scopedSlots:e._u([{key:"cell:state",fn:function({row:e}){return[e.real?t("BadgeState",{attrs:{value:e.real}}):t("BadgeState",{attrs:{value:e}})]}}])})},y=[],w=o("126f"),x=o("9c09"),k=o("462f"),C=o("1d19");o("5000"),o("bddd"),o("e24b"),o("2cb5");o("b506"),o("0788");k["v"],k["N"],k["b"],k["w"],k["w"].name;o("67fa");const _={},A=function(e,t){return _[e]={def:t},e},R=(A("multi-cluster-management",!0),A("legacy",!1),A("rke2",!0),A("rke1-ui",!0),A("unsupported-storage-drivers",!1),A("continuous-delivery",!0),A("harvester",!0),A("harvester-baremetal-container-workload",!1),A("provisioningv2-fleet-workspace-back-population",!1),A("ui-sql-cache",!1),A("uiextension",!0),"explorer");var S=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("span",{class:["badge-state",e.bg]},[e.icon?t("i",{staticClass:"icon",class:{[e.icon]:!0,"mr-5":!!e.msg}}):e._e(),e._v(e._s(e.msg)+" ")])},T=[],O=o("8bbf"),$=Object(O["defineComponent"])({props:{value:{type:Object,default:null},color:{type:String,default:null},icon:{type:String,default:null},label:{type:String,default:null}},computed:{bg(){var e;return(null===(e=this.value)||void 0===e?void 0:e.stateBackground)||this.color},msg(){var e;return(null===(e=this.value)||void 0===e?void 0:e.stateDisplay)||this.label}}}),L=$,F=(o("1aab"),o("5156"),Object(h["a"])(L,S,T,!1,null,"03599dd8",null)),B=F.exports,E={components:{ResourceTable:w["a"],BadgeState:B},props:{value:{type:Object,required:!0},rel:{type:String,default:null},direction:{type:String,default:"to"},ignoreTypes:{type:Array,default:()=>[]}},data(){return{loadedResources:1}},computed:{filteredRelationships(){var e;let t=(null===(e=this.value)||void 0===e||null===(e=e.metadata)||void 0===e?void 0:e.relationships)||[];return t=t.filter(e=>{const t=e[this.direction+"Type"];return!(!t||this.ignoreTypes.includes(t))&&(!this.rel||e.rel===this.rel)}),t},rows(){if(this.loadedResources<1)return;const e=this.$store.getters["clusterId"],t=this.$store.getters["currentStore"](),o=[];for(const a of this.filteredRelationships){const i=a.state||"active",s=Object(x["a"])(i,a.error,a.transitioning),n=a[this.direction+"Type"],r=this.$store.getters[t+"/schemaFor"](n);let l=a[this.direction+"Id"];if(!l)continue;let d=null;const c=l.indexOf("/"),u=`${n}/${d}/${l}`;c>0&&(d=l.substr(0,c),l=l.substr(c+1));const p={name:`c-cluster-product-resource${d?"-namespace":""}-id`,params:{product:R,cluster:"management"===t?"local":e,resource:n,namespace:d,id:l}};o.push({type:n,real:this.$store.getters[t+"/byId"](n,a[this.direction+"Id"]),id:a[this.direction+"Id"],state:i,metadata:{namespace:d,name:l},_key:u,name:l,namespace:d,nameDisplay:l,nameSort:Object(C["b"])(l).toLowerCase(),stateColor:s,detailLocation:p,typeDisplay:this.$store.getters["type-map/labelFor"](r),stateDisplay:Object(x["d"])(i),stateBackground:s.replace("text-","bg-"),groupByLabel:d})}return o},headers(){return[k["N"],k["S"],k["v"],k["w"]]}},methods:{async getRealResources(e){const t=this.$store.getters["currentStore"](),o=await Promise.allSettled(e.map(e=>this.$store.dispatch(t+"/find",{type:e.type,id:e.id}))),a=[];for(let i=0;i<o.length;i++)"fulfilled"===o[i].status&&a.push(o[i].value);return this.loadedResources++,a}}},P=E,N=Object(h["a"])(P,m,y,!1,null,null,null),D=N.exports,M=o("7083"),j=o("1722"),I={name:"ResourceTabs",components:{Tabbed:s["a"],Tab:n["a"],Conditions:g,SortableTable:c["a"],RelatedResources:D},mixins:[r["a"]],props:{value:{type:Object,default:()=>({})},mode:{type:String,default:f["m"]},defaultTab:{type:String,default:null},needConditions:{type:Boolean,default:!0},needEvents:{type:Boolean,default:!0},needRelated:{type:Boolean,default:!0},extensionParams:{type:Object,default:null}},data(){const e=this.$store.getters["currentStore"](v["f"]);return{hasEvents:this.$store.getters[e+"/schemaFor"](v["f"]),allEvents:[],selectedTab:this.defaultTab,didLoadEvents:!1,extensionTabs:Object(j["a"])(this,M["c"].TAB,M["d"].RESOURCE_DETAIL,this.$route,this,this.extensionParams),inStore:e,showConditions:!1}},beforeDestroy(){this.$store.dispatch("cluster/forgetType",v["f"])},fetch(){this.setShowConditions()},computed:{showEvents(){return this.isView&&this.needEvents&&this.hasEvents},showRelated(){return this.isView&&this.needRelated},eventHeaders(){return[{name:"type",label:this.t("tableHeaders.type"),value:"eventType",sort:"eventType"},{name:"reason",label:this.t("tableHeaders.reason"),value:"reason",sort:"reason"},{name:"date",label:this.t("tableHeaders.updated"),value:"date",sort:"date:desc",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125},{name:"message",label:this.t("tableHeaders.message"),value:"message",sort:"message"}]},events(){return this.allEvents.filter(e=>{var t,o;return(null===(t=e.involvedObject)||void 0===t?void 0:t.uid)===(null===(o=this.value)||void 0===o||null===(o=o.metadata)||void 0===o?void 0:o.uid)}).map(e=>({reason:`${e.reason||this.t("generic.unknown")}${e.count>1?` (${e.count})`:""}`.trim(),message:e.message||this.t("generic.unknown"),date:e.lastTimestamp||e.firstTimestamp||e.metadata.creationTimestamp,eventType:e.eventType}))},conditionsHaveIssues(){var e;return!!this.showConditions&&(null===(e=this.value.status)||void 0===e||null===(e=e.conditions)||void 0===e?void 0:e.filter(e=>!Object(x["c"])(e)).some(e=>e.error))}},methods:{tabChange(e){if(this.selectedTab=null===e||void 0===e?void 0:e.selectedName,!this.didLoadEvents&&"events"===this.selectedTab){const e=this.$store.getters["currentStore"](v["f"]);this.$store.dispatch(e+"/findAll",{type:v["f"]}).then(e=>{this.allEvents=e,this.didLoadEvents=!0})}},async setShowConditions(){var e,t;this.isView&&this.needConditions&&null!==(e=this.value)&&void 0!==e&&e.type&&null!==(t=this.schema)&&void 0!==t&&t.fetchResourceFields&&(await this.schema.fetchResourceFields(),this.showConditions=this.$store.getters[this.inStore+"/pathExistsInSchema"](this.value.type,"status.conditions"))}}},H=I,q=Object(h["a"])(H,a,i,!1,null,null,null);t["a"]=q.exports},ce08:function(e,t,o){var a=o("4a7c");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("75c1f719",a,!0,{sourceMap:!1,shadowMode:!1})},dd58:function(e,t,o){"use strict";o("6ac2")},e171:function(e,t,o){var a=o("24cc");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("0ed3").default;i("7e0f9a79",a,!0,{sourceMap:!1,shadowMode:!1})},e519:function(e,t,o){var a=o("5eaa");t=a(!1),t.push([e.i,".table-options-group .table-options-btn.role-multi-action[data-v-59946620]{background-color:transparent;border:none;font-size:18px}.table-options-group .table-options-btn.role-multi-action[data-v-59946620]:focus,.table-options-group .table-options-btn.role-multi-action[data-v-59946620]:hover{background-color:var(--accent-btn);box-shadow:none}.table-options-group .table-options-container[data-v-59946620]{width:350px;border:1px solid var(--primary);background-color:var(--body-bg);padding:20px;z-index:1}.table-options-group .table-options-container .table-options-grouping[data-v-59946620]{display:flex;align-items:center;margin-bottom:20px}.table-options-group .table-options-container .table-options-grouping span[data-v-59946620]{white-space:nowrap;margin-right:10px}.table-options-group .table-options-container ul[data-v-59946620]{list-style:none;margin:0;padding:0;max-height:200px;overflow-y:auto}.table-options-group .table-options-container ul li[data-v-59946620]{margin:0;padding:0}.table-options-group .table-options-container ul li.visible[data-v-59946620]{margin:0 0 10px 0}.sortable>SPAN[data-v-59946620]{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.sortable>SPAN[data-v-59946620]:active,.sortable>SPAN[data-v-59946620]:hover{text-decoration:underline;color:var(--body-text)}.top-aligned th[data-v-59946620]{vertical-align:top;padding-top:10px}thead tr[data-v-59946620]{background-color:var(--sortable-table-header-bg);color:var(--body-text);text-align:left}thead tr[data-v-59946620]:not(.loading){border-bottom:1px solid var(--sortable-table-top-divider)}th[data-v-59946620]{padding:8px 5px;font-weight:400;border:0;color:var(--body-text)}th .table-header-container[data-v-59946620]{display:flex}th .table-header-container .content[data-v-59946620]{display:flex;flex-direction:column}th .table-header-container.not-filterable[data-v-59946620],th .table-header-container.not-filterable .icon-stack[data-v-59946620]{margin-top:-2px}th .table-header-container .not-filter-icon[data-v-59946620]{font-size:16px;color:var(--primary);vertical-align:super}th[data-v-59946620]:first-child{padding-left:10px}th[data-v-59946620]:last-child{padding-right:10px}th:not(.sortable)>SPAN[data-v-59946620]{display:block;margin-bottom:2px}th A[data-v-59946620]{color:var(--body-text)}@media only screen and (max-width:480px){th.desktop[data-v-59946620],th.laptop[data-v-59946620],th.tablet[data-v-59946620]{display:none}}@media only screen and (max-width:992px){th.desktop[data-v-59946620],th.laptop[data-v-59946620]{display:none}}@media only screen and (max-width:1281px){th.desktop[data-v-59946620]{display:none}}.icon-stack[data-v-59946620]{width:12px}.icon-sort.faded[data-v-59946620]{opacity:.3}",""]),e.exports=t}}]);
//# sourceMappingURL=akri-dashboard-extension-1.1.0.umd.min.vendors~detail.js.map